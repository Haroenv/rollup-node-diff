/*! ReactInstantSearch UNRELEASED | Â© Algolia, inc. | https://community.algolia.com/react-instantsearch */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],t):t((e.ReactInstantSearch=e.ReactInstantSearch||{},e.ReactInstantSearch.Connectors={}),e.React)}(this,function(e,t){"use strict";function n(e,t){return t={exports:{}},e(t,t.exports),t.exports}function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function i(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function a(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Zn;++t<n;)this.add(e[t])}function s(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=dr),i||(i=[]);++a<o;){var u=e[a];t>0&&n(u)?t>1?s(u,t-1,n,r,i):lr(i,u):r||(i[i.length]=u)}return i}function u(e){var t=this.__data__=new kn(e);this.size=t.size}function c(e,t,n,r,i,a){var o,s=t&ca,u=t&fa,f=t&ha;if(n&&(o=i?n(e,r,i,a):n(e)),void 0!==o)return o;if(!en(e))return e;var h=Nt(e);if(h){if(o=wi(e),!s)return Gr(e,o)}else{var l=bi(e),p=l==pa||l==da;if(Ht(e))return Jr(e,s);if(l==ga||l==la||p&&!i){if(o=u||p?{}:ua(e),!s)return u?ai(e,$r(o,e)):ni(e,zr(o,e))}else{if(!ma[l])return i?e:{};o=aa(e,l,c,s)}}a||(a=new Cr);var d=a.get(e);if(d)return d;a.set(e,o);var g=f?u?ui:si:u?keysIn:un,m=h?void 0:g(e);return Dr(m||e,function(r,i){m&&(r=e[i=r]),Qr(o,i,c(r,t,n,i,e,a))}),o}function f(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(Fa);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(f.Cache||Zn),n}function h(e){if("string"==typeof e)return e;if(Nt(e))return ur(e,h)+"";if(ba(e))return Na?Na.call(e):"";var t=e+"";return"0"==t&&1/e==-Oa?"-0":t}function l(){throw new Error("setTimeout has not been defined")}function p(){throw new Error("clearTimeout has not been defined")}function d(e){if(to===setTimeout)return setTimeout(e,0);if((to===l||!to)&&setTimeout)return to=setTimeout,setTimeout(e,0);try{return to(e,0)}catch(t){try{return to.call(null,e,0)}catch(t){return to.call(this,e,0)}}}function g(){if(!ao){var e=d(function(){ao&&ro&&(ao=!1,ro.length?io=ro.concat(io):oo=-1,io.length&&g())});ao=!0;for(var t=io.length;t;){for(ro=io,io=[];++oo<t;)ro&&ro[oo].run();oo=-1,t=io.length}ro=null,ao=!1,function(e){if(no===clearTimeout)return clearTimeout(e);if((no===p||!no)&&clearTimeout)return no=clearTimeout,clearTimeout(e);try{no(e)}catch(t){try{return no.call(null,e)}catch(t){return no.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function v(){}function y(e,t,n,r,i){return e===t||(null==e||null==t||!Pt(e)&&!Pt(t)?e!=e&&t!=t:Wo(e,t,n,r,y,i))}function b(e){return function(){return e}}function R(e,t){if(e===t)return!0;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=Object.prototype.hasOwnProperty,a=0;a<n.length;a++)if(!i.call(t,n[a])||e[n[a]]!==t[n[a]])return!1;return!0}function w(e){return Object.keys(e).forEach(function(t){var n=e[t];hs(n)&&Ja(n)?delete e[t]:Ja(n)&&w(n)}),e}function _(e){if(!e.displayName)throw new Error("`createConnector` requires you to provide a `displayName` property.");var n=Xo(e,"refine"),r=Xo(e,"searchForFacetValues"),i=Xo(e,"getSearchParameters"),a=Xo(e,"getMetadata"),o=Xo(e,"transitionState"),s=Xo(e,"cleanUp"),u=i||a||o;return function(c){var f,h,l;return h=f=function(t){function f(e,t){ls(this,f);var n=vs(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,e,t));l.call(n);var r=t.ais,i=r.store,a=r.widgetsManager;return n.state={props:n.getProvidedProps(gs({},e,{canRender:!1})),canRender:!1},n.unsubscribe=i.subscribe(function(){n.state.canRender&&n.setState({props:n.getProvidedProps(gs({},n.props,{canRender:n.state.canRender}))})}),u&&(n.unregisterWidget=a.registerWidget(n)),n}return ms(f,t),ps(f,[{key:"getMetadata",value:function(t){return a?e.getMetadata.call(this,this.props,t):{}}},{key:"getSearchParameters",value:function(t){return i?e.getSearchParameters.call(this,t,this.props,this.context.ais.store.getState().widgets):null}},{key:"transitionState",value:function(t,n){return o?e.transitionState.call(this,this.props,t,n):n}},{key:"componentDidMount",value:function(){this.setState({canRender:!0})}},{key:"componentWillMount",value:function(){e.getSearchParameters&&this.context.ais.onSearchParameters(e.getSearchParameters,this.context,this.props)}},{key:"componentWillReceiveProps",value:function(t){Jo(this.props,t)||(this.setState({props:this.getProvidedProps(t)}),u&&(this.context.ais.widgetsManager.update(),e.transitionState&&this.context.ais.onSearchStateChange(e.transitionState.call(this,t,this.context.ais.store.getState().widgets,this.context.ais.store.getState().widgets))))}},{key:"componentWillUnmount",value:function(){if(this.unsubscribe(),u&&(this.unregisterWidget(),s)){var t=e.cleanUp.call(this,this.props,this.context.ais.store.getState().widgets);this.context.ais.store.setState(gs({},this.context.ais.store.getState(),{widgets:t})),this.context.ais.onSearchStateChange(w(t))}}},{key:"shouldComponentUpdate",value:function(e,t){var n=R(this.props,e);return null===this.state.props||null===t.props?this.state.props!==t.props||!n:!n||!R(this.state.props,t.props)}},{key:"render",value:function(){var e=this;if(null===this.state.props)return null;var t=n?{refine:this.refine,createURL:this.createURL}:{},i=r?{searchForItems:this.searchForFacetValues,searchForFacetValues:function(t,n){e.searchForFacetValues(t,n)}}:{};return st.createElement(c,gs({},this.props,this.state.props,t,i))}}]),f}(t.Component),f.displayName=e.displayName+"("+function(e){return e.displayName||e.name||"UnknownComponent"}(c)+")",f.defaultClassNames=c.defaultClassNames,f.propTypes=e.propTypes,f.defaultProps=e.defaultProps,f.contextTypes={ais:ss.object.isRequired,multiIndexContext:ss.object},l=function(){var t=this;this.getProvidedProps=function(n){var r=t.context.ais.store.getState(),i=r.results,a=r.searching,o=r.error,s=r.widgets,u=r.metadata,c=r.resultsFacetValues,f={results:i,searching:a,error:o,searchingForFacetValues:r.searchingForFacetValues,isSearchStalled:r.isSearchStalled};return e.getProvidedProps.call(t,n,s,f,u,c)},this.refine=function(){for(var n,r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];t.context.ais.onInternalStateUpdate((n=e.refine).call.apply(n,[t,t.props,t.context.ais.store.getState().widgets].concat(i)))},this.searchForFacetValues=function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];t.context.ais.onSearchForFacetValues(e.searchForFacetValues.apply(e,[t.props,t.context.ais.store.getState().widgets].concat(r)))},this.createURL=function(){for(var n,r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.context.ais.createHrefForState((n=e.refine).call.apply(n,[t,t.props,t.context.ais.store.getState().widgets].concat(i)))},this.cleanUp=function(){for(var n,r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];return(n=e.cleanUp).call.apply(n,[t].concat(i))}},h}}function F(e){return e&&e.multiIndexContext?e.multiIndexContext.targetedIndex:e.ais.mainTargetedIndex}function x(e,t){return e.results&&!e.results.hits?e.results[F(t)]?e.results[F(t)]:null:e.results?e.results:null}function P(e){return e&&e.multiIndexContext}function j(e,t,n,r,i){return P(n)?i?function(e,t,n,r,i){var a,o=F(n),s=r?{page:1}:void 0,u=Xo(e,"indices."+o)?gs({},e.indices,ds({},o,gs({},e.indices[o],(a={},ds(a,i,gs({},e.indices[o][i],t)),ds(a,"page",1),a)))):gs({},e.indices,ds({},o,gs(ds({},i,t),s)));return gs({},e,{indices:u})}(e,t,n,r,i):function(e,t,n,r){var i=r?{page:1}:void 0,a=F(n),o=Xo(e,"indices."+a)?gs({},e.indices,ds({},a,gs({},e.indices[a],t,i))):gs({},e.indices,ds({},a,gs({},t,i)));return gs({},e,{indices:o})}(e,t,n,r):(e.indices&&r&&Object.keys(e.indices).forEach(function(t){e=j(e,{page:1},{multiIndexContext:{targetedIndex:t}},!0,i)}),i?function(e,t,n,r){var i=n?{page:1}:void 0;return gs({},e,ds({},r,gs({},e[r],t)),i)}(e,t,r,i):function(e,t,n){var r=n?{page:1}:void 0;return gs({},e,t,r)}(e,t,r))}function S(e){var t=e.match(/^([^.]*)\.(.*)/);return{namespace:t&&t[1],attributeName:t&&t[2]}}function E(e,t,n,r,i,a){var o=F(n),s=S(r),u=s.namespace,c=s.attributeName;if(P(n)&&t.indices&&u&&t.indices[""+o]&&Xo(t.indices[""+o][u],""+c)||P(n)&&t.indices&&Xo(t,"indices."+o+"."+r)||!P(n)&&u&&Xo(t[u],c)||!P(n)&&Xo(t,r)){var f=void 0;return f=P(n)?u?Rs(t.indices[""+o][u],c):Rs(t.indices[o],r):u?Rs(t[u],c):Rs(t,r),a(f)}return e.defaultRefinement?e.defaultRefinement:i}function A(e,t,n){var r=F(t),i=S(n),a=i.namespace,o=i.attributeName;return P(t)?a?gs({},e,{indices:gs({},e.indices,ds({},r,gs({},e.indices[r],ds({},a,Xa(e.indices[r][a],""+o)))))}):Xa(e,"indices."+r+"."+n):a?gs({},e,ds({},a,Xa(e[a],""+o))):Xa(e,""+n)}function O(e,t,n,r,i){e!==t&&Ss(t,function(a,o){if(en(a))i||(i=new Cr),Xu(e,t,o,n,O,r,i);else{var s=r?r(e[o],a,o+"",e,t,i):void 0;void 0===s&&(s=a),Zu(e,o,s)}},Wr)}function T(e){if(gu(e))return e;if(bu(e))return parseFloat(e);if(Nt(e))return Ks(e,T);throw new Error("The value should be a number, a parseable string or an array of those.")}function N(e){var t=e?N._parseNumbers(e):{};this.index=t.index||"",this.query=t.query||"",this.facets=t.facets||[],this.disjunctiveFacets=t.disjunctiveFacets||[],this.hierarchicalFacets=t.hierarchicalFacets||[],this.facetsRefinements=t.facetsRefinements||{},this.facetsExcludes=t.facetsExcludes||{},this.disjunctiveFacetsRefinements=t.disjunctiveFacetsRefinements||{},this.numericRefinements=t.numericRefinements||{},this.tagRefinements=t.tagRefinements||[],this.hierarchicalFacetsRefinements=t.hierarchicalFacetsRefinements||{},this.numericFilters=t.numericFilters,this.tagFilters=t.tagFilters,this.optionalTagFilters=t.optionalTagFilters,this.optionalFacetFilters=t.optionalFacetFilters,this.hitsPerPage=t.hitsPerPage,this.maxValuesPerFacet=t.maxValuesPerFacet,this.page=t.page||0,this.queryType=t.queryType,this.typoTolerance=t.typoTolerance,this.minWordSizefor1Typo=t.minWordSizefor1Typo,this.minWordSizefor2Typos=t.minWordSizefor2Typos,this.minProximity=t.minProximity,this.allowTyposOnNumericTokens=t.allowTyposOnNumericTokens,this.ignorePlurals=t.ignorePlurals,this.restrictSearchableAttributes=t.restrictSearchableAttributes,this.advancedSyntax=t.advancedSyntax,this.analytics=t.analytics,this.analyticsTags=t.analyticsTags,this.synonyms=t.synonyms,this.replaceSynonymsInHighlight=t.replaceSynonymsInHighlight,this.optionalWords=t.optionalWords,this.removeWordsIfNoResults=t.removeWordsIfNoResults,this.attributesToRetrieve=t.attributesToRetrieve,this.attributesToHighlight=t.attributesToHighlight,this.highlightPreTag=t.highlightPreTag,this.highlightPostTag=t.highlightPostTag,this.attributesToSnippet=t.attributesToSnippet,this.getRankingInfo=t.getRankingInfo,this.distinct=t.distinct,this.aroundLatLng=t.aroundLatLng,this.aroundLatLngViaIP=t.aroundLatLngViaIP,this.aroundRadius=t.aroundRadius,this.minimumAroundRadius=t.minimumAroundRadius,this.aroundPrecision=t.aroundPrecision,this.insideBoundingBox=t.insideBoundingBox,this.insidePolygon=t.insidePolygon,this.snippetEllipsisText=t.snippetEllipsisText,this.disableExactOnAttributes=t.disableExactOnAttributes,this.enableExactOnSingleWordQuery=t.enableExactOnSingleWordQuery,this.offset=t.offset,this.length=t.length;var n=this;Os(t,function(e,t){-1===N.PARAMETERS.indexOf(t)&&(n[t]=e)})}function I(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Oc,this.__views__=[]}function H(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}function B(e){if(Pt(e)&&!Nt(e)&&!(e instanceof Tc)){if(e instanceof Mc)return e;if(Dc.call(e,"__wrapped__"))return Cc(e)}return new Mc(e)}function M(e,t,n,r,i,a,o,s,u,c){function f(){for(var v=arguments.length,y=Array(v),b=v;b--;)y[b]=arguments[b];if(d)var R=rf(f),w=Ec(y,R);if(r&&(y=Pc(y,r,i,d)),a&&(y=Sc(y,a,o,d)),v-=w,d&&v<c){var _=uf(y,R);return nf(e,t,M,f.placeholder,n,y,_,s,u,c-v)}var F=l?n:this,x=p?F[e]:e;return v=y.length,s?y=of(y,s):g&&v>1&&y.reverse(),h&&u<v&&(y.length=u),this&&this!==lt&&this instanceof f&&(x=m||wc(x)),x.apply(F,y)}var h=t&pf,l=t&cf,p=t&ff,d=t&(hf|lf),g=t&df,m=p?void 0:wc(e);return f}function C(e){var t={};return Ns(e,function(e,n){t[e]=n}),t}function D(e,t,n){t&&t[n]&&(e.stats=t[n])}function L(e,t){var n=t[0];this._rawResults=t,this.query=n.query,this.parsedQuery=n.parsedQuery,this.hits=n.hits,this.index=n.index,this.hitsPerPage=n.hitsPerPage,this.nbHits=n.nbHits,this.nbPages=n.nbPages,this.page=n.page,this.processingTimeMS=cc(t,"processingTimeMS"),this.aroundLatLng=n.aroundLatLng,this.automaticRadius=n.automaticRadius,this.serverUsed=n.serverUsed,this.timeoutCounts=n.timeoutCounts,this.timeoutHits=n.timeoutHits,this.exhaustiveFacetsCount=n.exhaustiveFacetsCount,this.exhaustiveNbHits=n.exhaustiveNbHits,this.userData=n.userData,this.disjunctiveFacets=[],this.hierarchicalFacets=Ks(e.hierarchicalFacets,function(){return[]}),this.facets=[];var r=e.getRefinedDisjunctiveFacets(),i=C(e.facets),a=C(e.disjunctiveFacets),o=1,s=this;Ns(n.facets,function(t,r){var o=function(e,t){return Fu(e,function(e){return pc(e.attributes,t)})}(e.hierarchicalFacets,r);if(o){var u=o.attributes.indexOf(r),c=_u(e.hierarchicalFacets,{name:o.name});s.hierarchicalFacets[c][u]={attribute:r,data:t,exhaustive:n.exhaustiveFacetsCount}}else{var f,h=-1!==pu(e.disjunctiveFacets,r),l=-1!==pu(e.facets,r);h&&(f=a[r],s.disjunctiveFacets[f]={name:r,data:t,exhaustive:n.exhaustiveFacetsCount},D(s.disjunctiveFacets[f],n.facets_stats,r)),l&&(f=i[r],s.facets[f]={name:r,data:t,exhaustive:n.exhaustiveFacetsCount},D(s.facets[f],n.facets_stats,r))}}),this.hierarchicalFacets=sc(this.hierarchicalFacets),Ns(r,function(r){var i=t[o],u=e.getHierarchicalFacetByName(r);Ns(i.facets,function(t,r){var o;if(u){o=_u(e.hierarchicalFacets,{name:u.name});var c=_u(s.hierarchicalFacets[o],{attribute:r});if(-1===c)return;s.hierarchicalFacets[o][c].data=tc({},s.hierarchicalFacets[o][c].data,t)}else{o=a[r];var f=n.facets&&n.facets[r]||{};s.disjunctiveFacets[o]={name:r,data:Gu({},t,f),exhaustive:i.exhaustiveFacetsCount},D(s.disjunctiveFacets[o],i.facets_stats,r),e.disjunctiveFacetsRefinements[r]&&Ns(e.disjunctiveFacetsRefinements[r],function(t){!s.disjunctiveFacets[o].data[t]&&pu(e.disjunctiveFacetsRefinements[r],t)>-1&&(s.disjunctiveFacets[o].data[t]=0)})}}),o++}),Ns(e.getRefinedHierarchicalFacets(),function(n){var r=e.getHierarchicalFacetByName(n),i=e._getHierarchicalFacetSeparator(r),a=e.getHierarchicalRefinement(n);if(!(0===a.length||a[0].split(i).length<2)){var u=t[o];Ns(u.facets,function(t,n){var o=_u(e.hierarchicalFacets,{name:r.name}),u=_u(s.hierarchicalFacets[o],{attribute:n});if(-1!==u){var c={};if(a.length>0){var f=a[0].split(i)[0];c[f]=s.hierarchicalFacets[o][u].data[f]}s.hierarchicalFacets[o][u].data=Gu(c,t,s.hierarchicalFacets[o][u].data)}}),o++}}),Ns(e.facetsExcludes,function(e,t){var r=i[t];s.facets[r]={name:t,data:n.facets[t],exhaustive:n.exhaustiveFacetsCount},Ns(e,function(e){s.facets[r]=s.facets[r]||{name:t},s.facets[r].data=s.facets[r].data||{},s.facets[r].data[e]=0})}),this.hierarchicalFacets=Ks(this.hierarchicalFacets,Wf(e)),this.facets=sc(this.facets),this.disjunctiveFacets=sc(this.disjunctiveFacets),this._state=e}function U(e,t){if(!t.data||0===t.data.length)return t;var n=e(Ks(t.data,Df(U,e)));return tc({},t,{data:n})}function Q(e,t){var n=Fu(e,{name:t});return n&&n.stats}function k(e,t,n,r,i){var a=Fu(i,{name:n}),o=Rs(a,"data["+r+"]"),s=Rs(a,"exhaustive");return{type:t,attributeName:n,name:r,count:o||0,exhaustive:s||!1}}function z(){Kf=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,n=e.length;t<n;++t)Jf[t]=e[t],Gf[e.charCodeAt(t)]=t;Gf["-".charCodeAt(0)]=62,Gf["_".charCodeAt(0)]=63}function V(e){Kf||z();for(var t,n=e.length,r=n%3,i="",a=[],o=0,s=n-r;o<s;o+=16383)a.push(function(e,t,n){for(var r,i=[],a=t;a<n;a+=3)r=(e[a]<<16)+(e[a+1]<<8)+e[a+2],i.push(function(e){return Jf[e>>18&63]+Jf[e>>12&63]+Jf[e>>6&63]+Jf[63&e]}(r));return i.join("")}(e,o,o+16383>s?s:o+16383));return 1===r?(t=e[n-1],i+=Jf[t>>2],i+=Jf[t<<4&63],i+="=="):2===r&&(t=(e[n-2]<<8)+e[n-1],i+=Jf[t>>10],i+=Jf[t>>4&63],i+=Jf[t<<2&63],i+="="),a.push(i),a.join("")}function q(e,t,n,r,i){var a,o,s=8*i-r-1,u=(1<<s)-1,c=u>>1,f=-7,h=n?i-1:0,l=n?-1:1,p=e[t+h];for(h+=l,a=p&(1<<-f)-1,p>>=-f,f+=s;f>0;a=256*a+e[t+h],h+=l,f-=8);for(o=a&(1<<-f)-1,a>>=-f,f+=r;f>0;o=256*o+e[t+h],h+=l,f-=8);if(0===a)a=1-c;else{if(a===u)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,r),a-=c}return(p?-1:1)*o*Math.pow(2,a-r)}function Y(e,t,n,r,i,a){var o,s,u,c=8*a-i-1,f=(1<<c)-1,h=f>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:a-1,d=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=f):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),(t+=o+h>=1?l/u:l*Math.pow(2,1-h))*u>=2&&(o++,u/=2),o+h>=f?(s=0,o=f):o+h>=1?(s=(t*u-1)*Math.pow(2,i),o+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;e[n+p]=255&s,p+=d,s/=256,i-=8);for(o=o<<i|s,c+=i;c>0;e[n+p]=255&o,p+=d,o/=256,c-=8);e[n+p-d]|=128*g}function W(){return J.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function $(e,t){if(W()<t)throw new RangeError("Invalid typed array length");return J.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=J.prototype:(null===e&&(e=new J(t)),e.length=t),e}function J(e,t,n){if(!(J.TYPED_ARRAY_SUPPORT||this instanceof J))return new J(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return K(this,e)}return G(this,e,t,n)}function G(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);J.TYPED_ARRAY_SUPPORT?(e=t).__proto__=J.prototype:e=X(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!J.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|ne(t,n),i=(e=$(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(te(t)){var n=0|ee(t.length);return 0===(e=$(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function(e){return e!=e}(t.length)?$(e,0):X(e,t);if("Buffer"===t.type&&eh(t.data))return X(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function Z(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function K(e,t){if(Z(t),e=$(e,t<0?0:0|ee(t)),!J.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function X(e,t){var n=t.length<0?0:0|ee(t.length);e=$(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function ee(e){if(e>=W())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+W().toString(16)+" bytes");return 0|e}function te(e){return!(null==e||!e._isBuffer)}function ne(e,t){if(te(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return ge(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return me(e).length;default:if(r)return ge(e).length;t=(""+t).toLowerCase(),r=!0}}function re(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function ie(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=J.from(t,r)),te(t))return 0===t.length?-1:ae(e,t,n,r,i);if("number"==typeof t)return t&=255,J.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):ae(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function ae(e,t,n,r,i){function a(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}var o=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,s/=2,u/=2,n/=2}var c;if(i){var f=-1;for(c=n;c<s;c++)if(a(e,c)===a(t,-1===f?0:c-f)){if(-1===f&&(f=c),c-f+1===u)return f*o}else-1!==f&&(c-=c-f),f=-1}else for(n+u>s&&(n=s-u),c=n;c>=0;c--){for(var h=!0,l=0;l<u;l++)if(a(e,c+l)!==a(t,l)){h=!1;break}if(h)return c}return-1}function oe(e,t,n,r){return ve(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function se(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var a=e[i],o=null,s=a>239?4:a>223?3:a>191?2:1;if(i+s<=n){var u,c,f,h;switch(s){case 1:a<128&&(o=a);break;case 2:128==(192&(u=e[i+1]))&&(h=(31&a)<<6|63&u)>127&&(o=h);break;case 3:u=e[i+1],c=e[i+2],128==(192&u)&&128==(192&c)&&(h=(15&a)<<12|(63&u)<<6|63&c)>2047&&(h<55296||h>57343)&&(o=h);break;case 4:u=e[i+1],c=e[i+2],f=e[i+3],128==(192&u)&&128==(192&c)&&128==(192&f)&&(h=(15&a)<<18|(63&u)<<12|(63&c)<<6|63&f)>65535&&h<1114112&&(o=h)}}null===o?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=s}return function(e){var t=e.length;if(t<=th)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=th));return n}(r)}function ue(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function ce(e,t,n,r,i,a){if(!te(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function fe(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,a=Math.min(e.length-n,2);i<a;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function he(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,a=Math.min(e.length-n,4);i<a;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function le(e,t,n,r,i,a){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function pe(e,t,n,r,i){return i||le(e,0,n,4),Y(e,t,n,r,23,4),n+4}function de(e,t,n,r,i){return i||le(e,0,n,8),Y(e,t,n,r,52,8),n+8}function ge(e,t){t=t||1/0;for(var n,r=e.length,i=null,a=[],o=0;o<r;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function me(e){return function(e){Kf||z();var t,n,r,i,a,o,s=e.length;if(s%4>0)throw new Error("Invalid string. Length must be a multiple of 4");a="="===e[s-2]?2:"="===e[s-1]?1:0,o=new Zf(3*s/4-a),r=a>0?s-4:s;var u=0;for(t=0,n=0;t<r;t+=4,n+=3)i=Gf[e.charCodeAt(t)]<<18|Gf[e.charCodeAt(t+1)]<<12|Gf[e.charCodeAt(t+2)]<<6|Gf[e.charCodeAt(t+3)],o[u++]=i>>16&255,o[u++]=i>>8&255,o[u++]=255&i;return 2===a?(i=Gf[e.charCodeAt(t)]<<2|Gf[e.charCodeAt(t+1)]>>4,o[u++]=255&i):1===a&&(i=Gf[e.charCodeAt(t)]<<10|Gf[e.charCodeAt(t+1)]<<4|Gf[e.charCodeAt(t+2)]>>2,o[u++]=i>>8&255,o[u++]=255&i),o}(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(nh,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function ve(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function ye(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function be(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function Re(e){return"function"==typeof e}function we(e){return"object"==typeof e&&null!==e}function _e(e){return void 0===e}function Fe(e,t){this.main=e,this.fn=t,this.lastResults=null}function xe(e){return Ja(e)?Ah(e,xe):Nt(e)?Ks(e,xe):bu(e)?Oh(e):e}function Pe(e,t,n){e.addAlgoliaAgent?Ee(e)||e.addAlgoliaAgent("JS Helper "+Hh):console.log("Please upgrade to the newest version of the JS Client."),this.setClient(e);var r=n||{};r.index=t,this.state=oc.make(r),this.lastResults=null,this._queryId=0,this._lastQueryIdReceived=-1,this.derivedHelpers=[],this._currentNbQueries=0}function je(e){if(e<0)throw new Error("Page requested below 0.");return this.state=this.state.setPage(e),this._change(),this}function Se(){return this.state.page}function Ee(e){var t=e._ua;return!!t&&-1!==t.indexOf("JS Helper")}function Ae(e,t,n){return new Bh(e,t,n)}function Oe(e,t,n){return E(e,t,n,Dh+"."+Ch(e),null,function(e){return""===e?null:e})}function Te(e,t,n,r){return e.map(function(e){return{label:e.name,value:function(e,t,n,r){var i=t.id,a=t.attributes,o=t.separator,s=t.rootPath,u=t.showParentLevel,c=Oe(t,n,r),f=void 0;f=null===c?e:new Mh({hierarchicalFacets:[{name:i,attributes:a,separator:o,rootPath:s,showParentLevel:u}]}).toggleHierarchicalFacetRefinement(i,c).toggleHierarchicalFacetRefinement(i,e).getHierarchicalRefinement(i)[0];return f}(e.path,t,n,r),count:e.count,isRefined:e.isRefined,items:e.data&&Te(e.data,t,n,r)}})}function Ne(e,t,n,r){var i=Ch(e);return j(t,ds({},i,n||""),r,!0,Dh)}function Ie(e){var t=e.preTag,n=e.postTag,r=e.highlightedValue,i=(void 0===r?"":r).split(t),a=i.shift(),o=""===a?[]:[{value:a,isHighlighted:!1}];if(n===t){var s=!0;i.forEach(function(e){o.push({value:e,isHighlighted:s}),s=!s})}else i.forEach(function(e){var t=e.split(n);o.push({value:t[0],isHighlighted:!0}),""!==t[1]&&o.push({value:t[1],isHighlighted:!1})});return o}function He(e,t,n){return E(e,t,n,Vh(),"",function(e){return e||""})}function Be(e,t,n){return E(e,t,n,"hitsPerPage",null,function(e){return"string"==typeof e?parseInt(e,10):e})}function Me(e,t,n){return E(e,t,n,"page",1,function(e){return"string"==typeof e&&(e=parseInt(e,10)),e})}function Ce(e){return e.attributeName}function De(e,t,n){return E(e,t,n,$h+"."+Ce(e),null,function(e){return""===e?null:e})}function Le(e,t,n,r){return e===De(t,n,r)?"":e}function Ue(e,t,n,r){var i=Ce(e);return j(t,ds({},i,n||""),r,!0,$h)}function Qe(e){return void 0===e.start&&void 0===e.end?"":(e.start?e.start:"")+":"+(e.end?e.end:"")}function ke(e){return e.attributeName}function ze(e,t,n){return E(e,t,n,Zh+"."+ke(e),"",function(e){return""===e?"":e})}function Ve(e,t,n,r){return j(t,ds({},ke(e),n),r,!0,Zh)}function qe(e,t,n){return E(e,t,n,"page",1,function(e){return"string"==typeof e?parseInt(e,10):e})}function Ye(e){return e.attributeName}function We(e,t,n,r){var i=E(e,t,r,rl+"."+Ye(e),{},function(e){var t=e.min,n=e.max;return"string"==typeof t&&(t=parseInt(t,10)),"string"==typeof n&&(n=parseInt(n,10)),{min:t,max:n}}),a=void 0!==e.min,o=void 0!==e.max,s=void 0!==i.min,u=void 0!==i.max;if(a&&s&&i.min<n.min)throw Error("You can't provide min value lower than range.");if(o&&u&&i.max>n.max)throw Error("You can't provide max value greater than range.");return a&&!s&&(i.min=n.min),o&&!u&&(i.max=n.max),i}function $e(e,t,n,r){return e||n!==r?e&&t?n:r:void 0}function Je(e,t,n,r,i){var a=n.min,o=n.max,s=r.min,u=r.max,c=void 0===a||""===a,f=void 0===o||""===o,h=c?void 0:parseFloat(a),l=f?void 0:parseFloat(o),p=c||nl(h),d=f||nl(l);if(!p||!d)throw Error("You can't provide non finite values to the range connector.");if(h<s)throw Error("You can't provide min value lower than range.");if(l>u)throw Error("You can't provide max value greater than range.");var g=Ye(e);return j(t,ds({},g,{min:$e(void 0!==e.min,c,s,h),max:$e(void 0!==e.max,f,u,l)}),i,!0,rl)}function Ge(e){return e.attributeName}function Ze(e,t,n){return E(e,t,n,al+"."+Ge(e),[],function(e){return"string"==typeof e?""===e?[]:[e]:e})}function Ke(e,t,n,r){var i=Ze(t,n,r);return-1===i.indexOf(e)?i.concat([e]):i.filter(function(t){return t!==e})}function Xe(e,t,n,r){var i=Ge(e);return j(t,ds({},i,n.length>0?n:""),r,!0,al)}function et(e){return e.reduce(function(e,t){return t.isRefined&&(e.push({label:t.name,value:t.path}),t.data&&(e=e.concat(et(t.data)))),e},[])}function tt(e,t,n){return E(e,t,n,"query","",function(e){return e||""})}function nt(e,t,n,r){return j(t,ds({},"query",n),r,!0)}function rt(e,t,n){return E(e,t,n,"sortBy",null,function(e){return e||null})}function it(e){return e.attributeName}function at(e,t,n){return E(e,t,n,gl+"."+it(e),!1,function(e){return e||!1})}function ot(e,t,n,r){var i=it(e);return j(t,ds({},i,n||!1),r,!0,gl)}var st="default"in t?t.default:t,ut=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},ct="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ft="object"==typeof ct&&ct&&ct.Object===Object&&ct,ht="object"==typeof self&&self&&self.Object===Object&&self,lt=ft||ht||Function("return this")(),pt=lt.Symbol,dt=Object.prototype,gt=dt.hasOwnProperty,mt=dt.toString,vt=pt?pt.toStringTag:void 0,yt=function(e){var t=gt.call(e,vt),n=e[vt];try{e[vt]=void 0;var r=!0}catch(e){}var i=mt.call(e);return r&&(t?e[vt]=n:delete e[vt]),i},bt=Object.prototype.toString,Rt=function(e){return bt.call(e)},wt="[object Null]",_t="[object Undefined]",Ft=pt?pt.toStringTag:void 0,xt=function(e){return null==e?void 0===e?_t:wt:Ft&&Ft in Object(e)?yt(e):Rt(e)},Pt=function(e){return null!=e&&"object"==typeof e},jt="[object Arguments]",St=function(e){return Pt(e)&&xt(e)==jt},Et=Object.prototype,At=Et.hasOwnProperty,Ot=Et.propertyIsEnumerable,Tt=St(function(){return arguments}())?St:function(e){return Pt(e)&&At.call(e,"callee")&&!Ot.call(e,"callee")},Nt=Array.isArray,It=function(){return!1},Ht=n(function(e,t){var n=t&&!t.nodeType&&t,r=n&&!0&&e&&!e.nodeType&&e,i=r&&r.exports===n?lt.Buffer:void 0,a=(i?i.isBuffer:void 0)||It;e.exports=a}),Bt=9007199254740991,Mt=/^(?:0|[1-9]\d*)$/,Ct=function(e,t){return!!(t=null==t?Bt:t)&&("number"==typeof e||Mt.test(e))&&e>-1&&e%1==0&&e<t},Dt=9007199254740991,Lt=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Dt},Ut={};Ut["[object Float32Array]"]=Ut["[object Float64Array]"]=Ut["[object Int8Array]"]=Ut["[object Int16Array]"]=Ut["[object Int32Array]"]=Ut["[object Uint8Array]"]=Ut["[object Uint8ClampedArray]"]=Ut["[object Uint16Array]"]=Ut["[object Uint32Array]"]=!0,Ut["[object Arguments]"]=Ut["[object Array]"]=Ut["[object ArrayBuffer]"]=Ut["[object Boolean]"]=Ut["[object DataView]"]=Ut["[object Date]"]=Ut["[object Error]"]=Ut["[object Function]"]=Ut["[object Map]"]=Ut["[object Number]"]=Ut["[object Object]"]=Ut["[object RegExp]"]=Ut["[object Set]"]=Ut["[object String]"]=Ut["[object WeakMap]"]=!1;var Qt=function(e){return Pt(e)&&Lt(e.length)&&!!Ut[xt(e)]},kt=function(e){return function(t){return e(t)}},zt=n(function(e,t){var n=t&&!t.nodeType&&t,r=n&&!0&&e&&!e.nodeType&&e,i=r&&r.exports===n&&ft.process,a=function(){try{return i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=a}),Vt=zt&&zt.isTypedArray,qt=Vt?kt(Vt):Qt,Yt=Object.prototype.hasOwnProperty,Wt=function(e,t){var n=Nt(e),r=!n&&Tt(e),i=!n&&!r&&Ht(e),a=!n&&!r&&!i&&qt(e),o=n||r||i||a,s=o?ut(e.length,String):[],u=s.length;for(var c in e)!t&&!Yt.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Ct(c,u))||s.push(c);return s},$t=Object.prototype,Jt=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||$t)},Gt=function(e,t){return function(n){return e(t(n))}},Zt=Gt(Object.keys,Object),Kt=Object.prototype.hasOwnProperty,Xt=function(e){if(!Jt(e))return Zt(e);var t=[];for(var n in Object(e))Kt.call(e,n)&&"constructor"!=n&&t.push(n);return t},en=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},tn="[object AsyncFunction]",nn="[object Function]",rn="[object GeneratorFunction]",an="[object Proxy]",on=function(e){if(!en(e))return!1;var t=xt(e);return t==nn||t==rn||t==tn||t==an},sn=function(e){return null!=e&&Lt(e.length)&&!on(e)},un=function(e){return sn(e)?Wt(e):Xt(e)},cn=lt["__core-js_shared__"],fn=function(){var e=/[^.]+$/.exec(cn&&cn.keys&&cn.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),hn=function(e){return!!fn&&fn in e},ln=Function.prototype.toString,pn=function(e){if(null!=e){try{return ln.call(e)}catch(e){}try{return e+""}catch(e){}}return""},dn=/^\[object .+?Constructor\]$/,gn=Function.prototype,mn=Object.prototype,vn=gn.toString,yn=mn.hasOwnProperty,bn=RegExp("^"+vn.call(yn).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Rn=function(e){return!(!en(e)||hn(e))&&(on(e)?bn:dn).test(pn(e))},wn=function(e,t){return null==e?void 0:e[t]},_n=function(e,t){var n=wn(e,t);return Rn(n)?n:void 0},Fn=_n(Object,"create"),xn=function(){this.__data__=Fn?Fn(null):{},this.size=0},Pn=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},jn="__lodash_hash_undefined__",Sn=Object.prototype.hasOwnProperty,En=function(e){var t=this.__data__;if(Fn){var n=t[e];return n===jn?void 0:n}return Sn.call(t,e)?t[e]:void 0},An=Object.prototype.hasOwnProperty,On=function(e){var t=this.__data__;return Fn?void 0!==t[e]:An.call(t,e)},Tn="__lodash_hash_undefined__",Nn=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Fn&&void 0===t?Tn:t,this};r.prototype.clear=xn,r.prototype.delete=Pn,r.prototype.get=En,r.prototype.has=On,r.prototype.set=Nn;var In=r,Hn=function(){this.__data__=[],this.size=0},Bn=function(e,t){return e===t||e!=e&&t!=t},Mn=function(e,t){for(var n=e.length;n--;)if(Bn(e[n][0],t))return n;return-1},Cn=Array.prototype.splice,Dn=function(e){var t=this.__data__,n=Mn(t,e);return!(n<0||(n==t.length-1?t.pop():Cn.call(t,n,1),--this.size,0))},Ln=function(e){var t=this.__data__,n=Mn(t,e);return n<0?void 0:t[n][1]},Un=function(e){return Mn(this.__data__,e)>-1},Qn=function(e,t){var n=this.__data__,r=Mn(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};i.prototype.clear=Hn,i.prototype.delete=Dn,i.prototype.get=Ln,i.prototype.has=Un,i.prototype.set=Qn;var kn=i,zn=_n(lt,"Map"),Vn=function(){this.size=0,this.__data__={hash:new In,map:new(zn||kn),string:new In}},qn=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e},Yn=function(e,t){var n=e.__data__;return qn(t)?n["string"==typeof t?"string":"hash"]:n.map},Wn=function(e){var t=Yn(this,e).delete(e);return this.size-=t?1:0,t},$n=function(e){return Yn(this,e).get(e)},Jn=function(e){return Yn(this,e).has(e)},Gn=function(e,t){var n=Yn(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};a.prototype.clear=Vn,a.prototype.delete=Wn,a.prototype.get=$n,a.prototype.has=Jn,a.prototype.set=Gn;var Zn=a,Kn="__lodash_hash_undefined__",Xn=function(e){return this.__data__.set(e,Kn),this},er=function(e){return this.__data__.has(e)};o.prototype.add=o.prototype.push=Xn,o.prototype.has=er;var tr=o,nr=function(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1},rr=function(e){return e!=e},ir=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1},ar=function(e,t,n){return t==t?ir(e,t,n):nr(e,rr,n)},or=function(e,t){return!!(null==e?0:e.length)&&ar(e,t,0)>-1},sr=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1},ur=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},cr=function(e,t){return e.has(t)},fr=200,hr=function(e,t,n,r){var i=-1,a=or,o=!0,s=e.length,u=[],c=t.length;if(!s)return u;n&&(t=ur(t,kt(n))),r?(a=sr,o=!1):t.length>=fr&&(a=cr,o=!1,t=new tr(t));e:for(;++i<s;){var f=e[i],h=null==n?f:n(f);if(f=r||0!==f?f:0,o&&h==h){for(var l=c;l--;)if(t[l]===h)continue e;u.push(f)}else a(t,h,r)||u.push(f)}return u},lr=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},pr=pt?pt.isConcatSpreadable:void 0,dr=function(e){return Nt(e)||Tt(e)||!!(pr&&e&&e[pr])},gr=s,mr=function(e){return e},vr=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},yr=Math.max,br=function(e,t,n){return t=yr(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=yr(r.length-t,0),o=Array(a);++i<a;)o[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(o),vr(e,this,s)}},Rr=function(e){return function(){return e}},wr=function(){try{var e=_n(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),_r=wr?function(e,t){return wr(e,"toString",{configurable:!0,enumerable:!1,value:Rr(t),writable:!0})}:mr,Fr=800,xr=16,Pr=Date.now,jr=function(e){var t=0,n=0;return function(){var r=Pr(),i=xr-(r-n);if(n=r,i>0){if(++t>=Fr)return arguments[0]}else t=0;return e.apply(void 0,arguments)}},Sr=jr(_r),Er=function(e,t){return Sr(br(e,t,mr),e+"")},Ar=function(e){return Pt(e)&&sn(e)},Or=Er(function(e,t){return Ar(e)?hr(e,gr(t,1,Ar,!0)):[]}),Tr=function(){this.__data__=new kn,this.size=0},Nr=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Ir=function(e){return this.__data__.get(e)},Hr=function(e){return this.__data__.has(e)},Br=200,Mr=function(e,t){var n=this.__data__;if(n instanceof kn){var r=n.__data__;if(!zn||r.length<Br-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Zn(r)}return n.set(e,t),this.size=n.size,this};u.prototype.clear=Tr,u.prototype.delete=Nr,u.prototype.get=Ir,u.prototype.has=Hr,u.prototype.set=Mr;var Cr=u,Dr=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},Lr=function(e,t,n){"__proto__"==t&&wr?wr(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},Ur=Object.prototype.hasOwnProperty,Qr=function(e,t,n){var r=e[t];Ur.call(e,t)&&Bn(r,n)&&(void 0!==n||t in e)||Lr(e,t,n)},kr=function(e,t,n,r){var i=!n;n||(n={});for(var a=-1,o=t.length;++a<o;){var s=t[a],u=r?r(n[s],e[s],s,n,e):void 0;void 0===u&&(u=e[s]),i?Lr(n,s,u):Qr(n,s,u)}return n},zr=function(e,t){return e&&kr(t,un(t),e)},Vr=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},qr=Object.prototype.hasOwnProperty,Yr=function(e){if(!en(e))return Vr(e);var t=Jt(e),n=[];for(var r in e)("constructor"!=r||!t&&qr.call(e,r))&&n.push(r);return n},Wr=function(e){return sn(e)?Wt(e,!0):Yr(e)},$r=function(e,t){return e&&kr(t,Wr(t),e)},Jr=n(function(e,t){var n=t&&!t.nodeType&&t,r=n&&!0&&e&&!e.nodeType&&e,i=r&&r.exports===n?lt.Buffer:void 0,a=i?i.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=a?a(n):new e.constructor(n);return e.copy(r),r}}),Gr=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},Zr=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a},Kr=function(){return[]},Xr=Object.prototype.propertyIsEnumerable,ei=Object.getOwnPropertySymbols,ti=ei?function(e){return null==e?[]:(e=Object(e),Zr(ei(e),function(t){return Xr.call(e,t)}))}:Kr,ni=function(e,t){return kr(e,ti(e),t)},ri=Gt(Object.getPrototypeOf,Object),ii=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)lr(t,ti(e)),e=ri(e);return t}:Kr,ai=function(e,t){return kr(e,ii(e),t)},oi=function(e,t,n){var r=t(e);return Nt(e)?r:lr(r,n(e))},si=function(e){return oi(e,un,ti)},ui=function(e){return oi(e,Wr,ii)},ci=_n(lt,"DataView"),fi=_n(lt,"Promise"),hi=_n(lt,"Set"),li=_n(lt,"WeakMap"),pi=pn(ci),di=pn(zn),gi=pn(fi),mi=pn(hi),vi=pn(li),yi=xt;(ci&&"[object DataView]"!=yi(new ci(new ArrayBuffer(1)))||zn&&"[object Map]"!=yi(new zn)||fi&&"[object Promise]"!=yi(fi.resolve())||hi&&"[object Set]"!=yi(new hi)||li&&"[object WeakMap]"!=yi(new li))&&(yi=function(e){var t=xt(e),n="[object Object]"==t?e.constructor:void 0,r=n?pn(n):"";if(r)switch(r){case pi:return"[object DataView]";case di:return"[object Map]";case gi:return"[object Promise]";case mi:return"[object Set]";case vi:return"[object WeakMap]"}return t});var bi=yi,Ri=Object.prototype.hasOwnProperty,wi=function(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&Ri.call(e,"index")&&(n.index=e.index,n.input=e.input),n},_i=lt.Uint8Array,Fi=function(e){var t=new e.constructor(e.byteLength);return new _i(t).set(new _i(e)),t},xi=function(e,t){var n=t?Fi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},Pi=function(e,t){return e.set(t[0],t[1]),e},ji=function(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n},Si=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n},Ei=1,Ai=function(e,t,n){var r=t?n(Si(e),Ei):Si(e);return ji(r,Pi,new e.constructor)},Oi=/\w*$/,Ti=function(e){var t=new e.constructor(e.source,Oi.exec(e));return t.lastIndex=e.lastIndex,t},Ni=function(e,t){return e.add(t),e},Ii=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n},Hi=1,Bi=function(e,t,n){var r=t?n(Ii(e),Hi):Ii(e);return ji(r,Ni,new e.constructor)},Mi=pt?pt.prototype:void 0,Ci=Mi?Mi.valueOf:void 0,Di=function(e){return Ci?Object(Ci.call(e)):{}},Li=function(e,t){var n=t?Fi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},Ui="[object Boolean]",Qi="[object Date]",ki="[object Map]",zi="[object Number]",Vi="[object RegExp]",qi="[object Set]",Yi="[object String]",Wi="[object Symbol]",$i="[object ArrayBuffer]",Ji="[object DataView]",Gi="[object Float32Array]",Zi="[object Float64Array]",Ki="[object Int8Array]",Xi="[object Int16Array]",ea="[object Int32Array]",ta="[object Uint8Array]",na="[object Uint8ClampedArray]",ra="[object Uint16Array]",ia="[object Uint32Array]",aa=function(e,t,n,r){var i=e.constructor;switch(t){case $i:return Fi(e);case Ui:case Qi:return new i(+e);case Ji:return xi(e,r);case Gi:case Zi:case Ki:case Xi:case ea:case ta:case na:case ra:case ia:return Li(e,r);case ki:return Ai(e,r,n);case zi:case Yi:return new i(e);case Vi:return Ti(e);case qi:return Bi(e,r,n);case Wi:return Di(e)}},oa=Object.create,sa=function(){function e(){}return function(t){if(!en(t))return{};if(oa)return oa(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),ua=function(e){return"function"!=typeof e.constructor||Jt(e)?{}:sa(ri(e))},ca=1,fa=2,ha=4,la="[object Arguments]",pa="[object Function]",da="[object GeneratorFunction]",ga="[object Object]",ma={};ma[la]=ma["[object Array]"]=ma["[object ArrayBuffer]"]=ma["[object DataView]"]=ma["[object Boolean]"]=ma["[object Date]"]=ma["[object Float32Array]"]=ma["[object Float64Array]"]=ma["[object Int8Array]"]=ma["[object Int16Array]"]=ma["[object Int32Array]"]=ma["[object Map]"]=ma["[object Number]"]=ma[ga]=ma["[object RegExp]"]=ma["[object Set]"]=ma["[object String]"]=ma["[object Symbol]"]=ma["[object Uint8Array]"]=ma["[object Uint8ClampedArray]"]=ma["[object Uint16Array]"]=ma["[object Uint32Array]"]=!0,ma["[object Error]"]=ma[pa]=ma["[object WeakMap]"]=!1;var va=c,ya="[object Symbol]",ba=function(e){return"symbol"==typeof e||Pt(e)&&xt(e)==ya},Ra=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,wa=/^\w*$/,_a=function(e,t){if(Nt(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ba(e))||wa.test(e)||!Ra.test(e)||null!=t&&e in Object(t)},Fa="Expected a function";f.Cache=Zn;var xa=f,Pa=500,ja=/^\./,Sa=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ea=/\\(\\)?/g,Aa=function(e){var t=xa(e,function(e){return n.size===Pa&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return ja.test(e)&&t.push(""),e.replace(Sa,function(e,n,r,i){t.push(r?i.replace(Ea,"$1"):n||e)}),t}),Oa=1/0,Ta=pt?pt.prototype:void 0,Na=Ta?Ta.toString:void 0,Ia=h,Ha=function(e){return null==e?"":Ia(e)},Ba=function(e,t){return Nt(e)?e:_a(e,t)?[e]:Aa(Ha(e))},Ma=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0},Ca=1/0,Da=function(e){if("string"==typeof e||ba(e))return e;var t=e+"";return"0"==t&&1/e==-Ca?"-0":t},La=function(e,t){for(var n=0,r=(t=Ba(t,e)).length;null!=e&&n<r;)e=e[Da(t[n++])];return n&&n==r?e:void 0},Ua=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a},Qa=function(e,t){return t.length<2?e:La(e,Ua(t,0,-1))},ka=function(e,t){return t=Ba(t,e),null==(e=Qa(e,t))||delete e[Da(Ma(t))]},za="[object Object]",Va=Function.prototype,qa=Object.prototype,Ya=Va.toString,Wa=qa.hasOwnProperty,$a=Ya.call(Object),Ja=function(e){if(!Pt(e)||xt(e)!=za)return!1;var t=ri(e);if(null===t)return!0;var n=Wa.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ya.call(n)==$a},Ga=function(e){return Ja(e)?void 0:e},Za=function(e){return(null==e?0:e.length)?gr(e,1):[]},Ka=function(e){return Sr(br(e,void 0,Za),e+"")},Xa=Ka(function(e,t){var n={};if(null==e)return n;var r=!1;t=ur(t,function(t){return t=Ba(t,e),r||(r=t.length>1),t}),kr(e,ui(e),n),r&&(n=va(n,7,Ga));for(var i=t.length;i--;)ka(n,t[i]);return n}),eo="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},to=l,no=p;"function"==typeof eo.setTimeout&&(to=setTimeout),"function"==typeof eo.clearTimeout&&(no=clearTimeout);var ro,io=[],ao=!1,oo=-1;m.prototype.run=function(){this.fun.apply(null,this.array)};var so=v,uo=v,co=v,fo=v,ho=v,lo=v,po=v,go=eo.performance||{},mo=go.now||go.mozNow||go.msNow||go.oNow||go.webkitNow||function(){return(new Date).getTime()},vo=new Date,yo={nextTick:function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];io.push(new m(e,t)),1!==io.length||ao||d(g)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:so,addListener:uo,once:co,off:fo,removeListener:ho,removeAllListeners:lo,emit:po,binding:function(e){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var t=.001*mo.call(go),n=Math.floor(t),r=Math.floor(t%1*1e9);return e&&(n-=e[0],(r-=e[1])<0&&(n--,r+=1e9)),[n,r]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-vo)/1e3}},bo=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},Ro=1,wo=2,_o=function(e,t,n,r,i,a){var o=n&Ro,s=e.length,u=t.length;if(s!=u&&!(o&&u>s))return!1;var c=a.get(e);if(c&&a.get(t))return c==t;var f=-1,h=!0,l=n&wo?new tr:void 0;for(a.set(e,t),a.set(t,e);++f<s;){var p=e[f],d=t[f];if(r)var g=o?r(d,p,f,t,e,a):r(p,d,f,e,t,a);if(void 0!==g){if(g)continue;h=!1;break}if(l){if(!bo(t,function(e,t){if(!cr(l,t)&&(p===e||i(p,e,n,r,a)))return l.push(t)})){h=!1;break}}else if(p!==d&&!i(p,d,n,r,a)){h=!1;break}}return a.delete(e),a.delete(t),h},Fo=1,xo=2,Po="[object Boolean]",jo="[object Date]",So="[object Error]",Eo="[object Map]",Ao="[object Number]",Oo="[object RegExp]",To="[object Set]",No="[object String]",Io="[object Symbol]",Ho="[object ArrayBuffer]",Bo="[object DataView]",Mo=pt?pt.prototype:void 0,Co=Mo?Mo.valueOf:void 0,Do=function(e,t,n,r,i,a,o){switch(n){case Bo:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Ho:return!(e.byteLength!=t.byteLength||!a(new _i(e),new _i(t)));case Po:case jo:case Ao:return Bn(+e,+t);case So:return e.name==t.name&&e.message==t.message;case Oo:case No:return e==t+"";case Eo:var s=Si;case To:var u=r&Fo;if(s||(s=Ii),e.size!=t.size&&!u)return!1;var c=o.get(e);if(c)return c==t;r|=xo,o.set(e,t);var f=_o(s(e),s(t),r,i,a,o);return o.delete(e),f;case Io:if(Co)return Co.call(e)==Co.call(t)}return!1},Lo=1,Uo=Object.prototype.hasOwnProperty,Qo=function(e,t,n,r,i,a){var o=n&Lo,s=si(e),u=s.length;if(u!=si(t).length&&!o)return!1;for(var c=u;c--;){var f=s[c];if(!(o?f in t:Uo.call(t,f)))return!1}var h=a.get(e);if(h&&a.get(t))return h==t;var l=!0;a.set(e,t),a.set(t,e);for(var p=o;++c<u;){var d=e[f=s[c]],g=t[f];if(r)var m=o?r(g,d,f,t,e,a):r(d,g,f,e,t,a);if(!(void 0===m?d===g||i(d,g,n,r,a):m)){l=!1;break}p||(p="constructor"==f)}if(l&&!p){var v=e.constructor,y=t.constructor;v!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y)&&(l=!1)}return a.delete(e),a.delete(t),l},ko=1,zo="[object Arguments]",Vo="[object Array]",qo="[object Object]",Yo=Object.prototype.hasOwnProperty,Wo=function(e,t,n,r,i,a){var o=Nt(e),s=Nt(t),u=o?Vo:bi(e),c=s?Vo:bi(t),f=(u=u==zo?qo:u)==qo,h=(c=c==zo?qo:c)==qo,l=u==c;if(l&&Ht(e)){if(!Ht(t))return!1;o=!0,f=!1}if(l&&!f)return a||(a=new Cr),o||qt(e)?_o(e,t,n,r,i,a):Do(e,t,u,n,r,i,a);if(!(n&ko)){var p=f&&Yo.call(e,"__wrapped__"),d=h&&Yo.call(t,"__wrapped__");if(p||d){var g=p?e.value():e,m=d?t.value():t;return a||(a=new Cr),i(g,m,n,r,a)}}return!!l&&(a||(a=new Cr),Qo(e,t,n,r,i,a))},$o=y,Jo=function(e,t){return $o(e,t)},Go=Object.prototype.hasOwnProperty,Zo=function(e,t){return null!=e&&Go.call(e,t)},Ko=function(e,t,n){for(var r=-1,i=(t=Ba(t,e)).length,a=!1;++r<i;){var o=Da(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&Lt(i)&&Ct(o,i)&&(Nt(e)||Tt(e))},Xo=function(e,t){return null!=e&&Ko(e,t,Zo)},es=function(){};es.thatReturns=b,es.thatReturnsFalse=b(!1),es.thatReturnsTrue=b(!0),es.thatReturnsNull=b(null),es.thatReturnsThis=function(){return this},es.thatReturnsArgument=function(e){return e};var ts=es,ns=function(e,t,n,r,i,a,o,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,o,s],f=0;(u=new Error(t.replace(/%s/g,function(){return c[f++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}},rs=Object.getOwnPropertySymbols,is=Object.prototype.hasOwnProperty,as=Object.prototype.propertyIsEnumerable,os=(function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()&&Object.assign,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"),ss=n(function(e){e.exports=function(){function e(e,t,n,r,i,a){a!==os&&ns(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=ts,n.PropTypes=n,n}()}),us="[object Map]",cs="[object Set]",fs=Object.prototype.hasOwnProperty,hs=function(e){if(null==e)return!0;if(sn(e)&&(Nt(e)||"string"==typeof e||"function"==typeof e.splice||Ht(e)||qt(e)||Tt(e)))return!e.length;var t=bi(e);if(t==us||t==cs)return!e.size;if(Jt(e))return!Xt(e).length;for(var n in e)if(fs.call(e,n))return!1;return!0},ls=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},ps=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ds=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},gs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ms=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},vs=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},ys=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),bs=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},Rs=function(e,t,n){var r=null==e?void 0:La(e,t);return void 0===r?n:r},ws=_({displayName:"AlgoliaConfigure",getProvidedProps:function(){return{}},getSearchParameters:function(e,t){var n=Xa(t,"children");return e.setQueryParameters(n)},transitionState:function(e,t,n){var r="configure",i=Xa(e,"children"),a=this._props?Or(un(this._props),un(e)):[];this._props=e;return j(n,ds({},r,gs({},Xa(n[r],a),i)),this.context)},cleanUp:function(e,t){var n="configure",r=F(this.context),i=P(this.context)&&t.indices?t.indices[r]:t,a=(i&&i[n]?Object.keys(i[n]):[]).reduce(function(t,r){return e[r]||(t[r]=i[n][r]),t},{});return j(t,ds({},n,a),this.context)}}),_s=_({displayName:"AlgoliaCurrentRefinements",propTypes:{transformItems:ss.func},getProvidedProps:function(e,t,n,r){var i=r.reduce(function(t,n){return void 0!==n.items&&(e.clearsQuery||"query"!==n.id)?e.clearsQuery&&"query"===n.id&&""===n.items[0].currentRefinement?t:t.concat(n.items.map(function(e){return gs({},e,{id:n.id,index:n.index})})):t},[]);return{items:e.transformItems?e.transformItems(i):i,canRefine:i.length>0}},refine:function(e,t,n){return(n instanceof Array?n.map(function(e){return e.value}):[n]).reduce(function(e,t){return t(e)},t)}}),Fs=Math.min,xs=function(e,t,n){for(var r=n?sr:or,i=e[0].length,a=e.length,o=a,s=Array(a),u=1/0,c=[];o--;){var f=e[o];o&&t&&(f=ur(f,kt(t))),u=Fs(f.length,u),s[o]=!n&&(t||i>=120&&f.length>=120)?new tr(o&&f):void 0}f=e[0];var h=-1,l=s[0];e:for(;++h<i&&c.length<u;){var p=f[h],d=t?t(p):p;if(p=n||0!==p?p:0,!(l?cr(l,d):r(c,d,n))){for(o=a;--o;){var g=s[o];if(!(g?cr(g,d):r(e[o],d,n)))continue e}l&&l.push(d),c.push(p)}}return c},Ps=function(e){return Ar(e)?e:[]},js=Er(function(e){var t=ur(e,Ps);return t.length&&t[0]===e[0]?xs(t):[]}),Ss=function(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),s=o.length;s--;){var u=o[e?s:++i];if(!1===n(a[u],u,a))break}return t}}(),Es=function(e,t){return e&&Ss(e,t,un)},As=function(e){return"function"==typeof e?e:mr},Os=function(e,t){return e&&Es(e,As(t))},Ts=function(e,t){return function(n,r){if(null==n)return n;if(!sn(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=Object(n);(t?a--:++a<i)&&!1!==r(o[a],a,o););return n}}(Es),Ns=function(e,t){return(Nt(e)?Dr:Ts)(e,As(t))},Is=function(e,t){var n=[];return Ts(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n},Hs=1,Bs=2,Ms=function(e,t,n,r){var i=n.length,a=i,o=!r;if(null==e)return!a;for(e=Object(e);i--;){var s=n[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){var u=(s=n[i])[0],c=e[u],f=s[1];if(o&&s[2]){if(void 0===c&&!(u in e))return!1}else{var h=new Cr;if(r)var l=r(c,f,u,e,t,h);if(!(void 0===l?$o(f,c,Hs|Bs,r,h):l))return!1}}return!0},Cs=function(e){return e==e&&!en(e)},Ds=function(e){for(var t=un(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Cs(i)]}return t},Ls=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}},Us=function(e){var t=Ds(e);return 1==t.length&&t[0][2]?Ls(t[0][0],t[0][1]):function(n){return n===e||Ms(n,e,t)}},Qs=function(e,t){return null!=e&&t in Object(e)},ks=function(e,t){return null!=e&&Ko(e,t,Qs)},zs=1,Vs=2,qs=function(e,t){return _a(e)&&Cs(t)?Ls(Da(e),t):function(n){var r=Rs(n,e);return void 0===r&&r===t?ks(n,e):$o(t,r,zs|Vs)}},Ys=function(e){return function(t){return null==t?void 0:t[e]}},Ws=function(e){return function(t){return La(t,e)}},$s=function(e){return _a(e)?Ys(Da(e)):Ws(e)},Js=function(e){return"function"==typeof e?e:null==e?mr:"object"==typeof e?Nt(e)?qs(e[0],e[1]):Us(e):$s(e)},Gs=function(e,t){return(Nt(e)?Zr:Is)(e,Js(t,3))},Zs=function(e,t){var n=-1,r=sn(e)?Array(e.length):[];return Ts(e,function(e,i,a){r[++n]=t(e,i,a)}),r},Ks=function(e,t){return(Nt(e)?ur:Zs)(e,Js(t,3))},Xs=function(e,t,n,r,i){return i(e,function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)}),n},eu=function(e,t,n){var r=Nt(e)?ji:Xs,i=arguments.length<3;return r(e,Js(t,4),n,i,Ts)},tu=NaN,nu=/^\s+|\s+$/g,ru=/^[-+]0x[0-9a-f]+$/i,iu=/^0b[01]+$/i,au=/^0o[0-7]+$/i,ou=parseInt,su=function(e){if("number"==typeof e)return e;if(ba(e))return tu;if(en(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=en(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(nu,"");var n=iu.test(e);return n||au.test(e)?ou(e.slice(2),n?2:8):ru.test(e)?tu:+e},uu=1/0,cu=1.7976931348623157e308,fu=function(e){if(!e)return 0===e?e:0;if((e=su(e))===uu||e===-uu)return(e<0?-1:1)*cu;return e==e?e:0},hu=function(e){var t=fu(e),n=t%1;return t==t?n?t-n:t:0},lu=Math.max,pu=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:hu(n);return i<0&&(i=lu(r+i,0)),ar(e,t,i)},du="[object Number]",gu=function(e){return"number"==typeof e||Pt(e)&&xt(e)==du},mu=function(e){return gu(e)&&e!=+e},vu=function(e){return void 0===e},yu="[object String]",bu=function(e){return"string"==typeof e||!Nt(e)&&Pt(e)&&xt(e)==yu},Ru=function(e){return function(t,n,r){var i=Object(t);if(!sn(t)){var a=Js(n,3);t=un(t),n=function(e){return a(i[e],e,i)}}var o=e(t,n,r);return o>-1?i[a?t[o]:o]:void 0}},wu=Math.max,_u=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:hu(n);return i<0&&(i=wu(r+i,0)),nr(e,Js(t,3),i)},Fu=Ru(_u),xu=function(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:Ua(e,t,n)},Pu=function(e,t){for(var n=e.length;n--&&ar(t,e[n],0)>-1;);return n},ju=function(e,t){for(var n=-1,r=e.length;++n<r&&ar(t,e[n],0)>-1;);return n},Su=function(e){return e.split("")},Eu=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),Au=function(e){return Eu.test(e)},Ou="[\\ud800-\\udfff]",Tu="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Nu="\\ud83c[\\udffb-\\udfff]",Iu="[^\\ud800-\\udfff]",Hu="(?:\\ud83c[\\udde6-\\uddff]){2}",Bu="[\\ud800-\\udbff][\\udc00-\\udfff]",Mu="(?:"+Tu+"|"+Nu+")"+"?",Cu="[\\ufe0e\\ufe0f]?"+Mu+("(?:\\u200d(?:"+[Iu,Hu,Bu].join("|")+")[\\ufe0e\\ufe0f]?"+Mu+")*"),Du="(?:"+[Iu+Tu+"?",Tu,Hu,Bu,Ou].join("|")+")",Lu=RegExp(Nu+"(?="+Nu+")|"+Du+Cu,"g"),Uu=function(e){return e.match(Lu)||[]},Qu=function(e){return Au(e)?Uu(e):Su(e)},ku=/^\s+|\s+$/g,zu=function(e,t,n){if((e=Ha(e))&&(n||void 0===t))return e.replace(ku,"");if(!e||!(t=Ia(t)))return e;var r=Qu(e),i=Qu(t),a=ju(r,i),o=Pu(r,i)+1;return xu(r,a,o).join("")},Vu=function(e,t,n){if(!en(n))return!1;var r=typeof t;return!!("number"==r?sn(n)&&Ct(t,n.length):"string"==r&&t in n)&&Bn(n[t],e)},qu=function(e){return Er(function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(i--,a):void 0,o&&Vu(n[0],n[1],o)&&(a=i<3?void 0:a,i=1),t=Object(t);++r<i;){var s=n[r];s&&e(t,s,r,a)}return t})},Yu=qu(function(e,t,n,r){kr(t,Wr(t),e,r)}),Wu=Object.prototype,$u=Wu.hasOwnProperty,Ju=function(e,t,n,r){return void 0===e||Bn(e,Wu[n])&&!$u.call(r,n)?t:e},Gu=Er(function(e){return e.push(void 0,Ju),vr(Yu,void 0,e)}),Zu=function(e,t,n){(void 0===n||Bn(e[t],n))&&(void 0!==n||t in e)||Lr(e,t,n)},Ku=function(e){return kr(e,Wr(e))},Xu=function(e,t,n,r,i,a,o){var s=e[n],u=t[n],c=o.get(u);if(c)Zu(e,n,c);else{var f=a?a(s,u,n+"",e,t,o):void 0,h=void 0===f;if(h){var l=Nt(u),p=!l&&Ht(u),d=!l&&!p&&qt(u);f=u,l||p||d?Nt(s)?f=s:Ar(s)?f=Gr(s):p?(h=!1,f=Jr(u,!0)):d?(h=!1,f=Li(u,!0)):f=[]:Ja(u)||Tt(u)?(f=s,Tt(s)?f=Ku(s):(!en(s)||r&&on(s))&&(f=ua(u))):h=!1}h&&(o.set(u,f),i(f,u,r,a,o),o.delete(u)),Zu(e,n,f)}},ec=O,tc=qu(function(e,t,n){ec(e,t,n)}),nc=T,rc=function(e,t){var n={},r=Gs(t,function(e){return-1!==e.indexOf("attribute:")}),i=Ks(r,function(e){return e.split(":")[1]});-1===pu(i,"*")?Ns(i,function(t){e.isConjunctiveFacet(t)&&e.isFacetRefined(t)&&(n.facetsRefinements||(n.facetsRefinements={}),n.facetsRefinements[t]=e.facetsRefinements[t]),e.isDisjunctiveFacet(t)&&e.isDisjunctiveFacetRefined(t)&&(n.disjunctiveFacetsRefinements||(n.disjunctiveFacetsRefinements={}),n.disjunctiveFacetsRefinements[t]=e.disjunctiveFacetsRefinements[t]),e.isHierarchicalFacet(t)&&e.isHierarchicalFacetRefined(t)&&(n.hierarchicalFacetsRefinements||(n.hierarchicalFacetsRefinements={}),n.hierarchicalFacetsRefinements[t]=e.hierarchicalFacetsRefinements[t]);var r=e.getNumericRefinements(t);hs(r)||(n.numericRefinements||(n.numericRefinements={}),n.numericRefinements[t]=e.numericRefinements[t])}):(hs(e.numericRefinements)||(n.numericRefinements=e.numericRefinements),hs(e.facetsRefinements)||(n.facetsRefinements=e.facetsRefinements),hs(e.disjunctiveFacetsRefinements)||(n.disjunctiveFacetsRefinements=e.disjunctiveFacetsRefinements),hs(e.hierarchicalFacetsRefinements)||(n.hierarchicalFacetsRefinements=e.hierarchicalFacetsRefinements));var a=Gs(t,function(e){return-1===e.indexOf("attribute:")});return Ns(a,function(t){n[t]=e[t]}),n},ic={addRefinement:function(e,t,n){if(ic.isRefined(e,t,n))return e;var r=""+n,i=e[t]?e[t].concat(r):[r],a={};return a[t]=i,Gu({},a,e)},removeRefinement:function(e,t,n){if(vu(n))return ic.clearRefinement(e,t);var r=""+n;return ic.clearRefinement(e,function(e,n){return t===n&&r===e})},toggleRefinement:function(e,t,n){if(vu(n))throw new Error("toggleRefinement should be used with a value");return ic.isRefined(e,t,n)?ic.removeRefinement(e,t,n):ic.addRefinement(e,t,n)},clearRefinement:function(e,t,n){return vu(t)?{}:bu(t)?Xa(e,t):on(t)?eu(e,function(e,r,i){var a=Gs(r,function(e){return!t(e,i,n)});return hs(a)||(e[i]=a),e},{}):void 0},isRefined:function(e,t,n){var r=pu,i=!!e[t]&&e[t].length>0;if(vu(n)||!i)return i;var a=""+n;return-1!==r(e[t],a)}},ac=ic;N.PARAMETERS=un(new N),N._parseNumbers=function(e){if(e instanceof N)return e;var t={};if(Ns(["aroundPrecision","aroundRadius","getRankingInfo","minWordSizefor2Typos","minWordSizefor1Typo","page","maxValuesPerFacet","distinct","minimumAroundRadius","hitsPerPage","minProximity"],function(n){var r=e[n];if(bu(r)){var i=parseFloat(r);t[n]=mu(i)?r:i}}),e.numericRefinements){var n={};Ns(e.numericRefinements,function(e,t){n[t]={},Ns(e,function(e,r){var i=Ks(e,function(e){return Nt(e)?Ks(e,function(e){return bu(e)?parseFloat(e):e}):bu(e)?parseFloat(e):e});n[t][r]=i})}),t.numericRefinements=n}return tc({},e,t)},N.make=function(e){var t=new N(e);return Ns(e.hierarchicalFacets,function(e){if(e.rootPath){var n=t.getHierarchicalRefinement(e.name);n.length>0&&0!==n[0].indexOf(e.rootPath)&&(t=t.clearRefinements(e.name)),0===(n=t.getHierarchicalRefinement(e.name)).length&&(t=t.toggleHierarchicalFacetRefinement(e.name,e.rootPath))}}),t},N.validate=function(e,t){var n=t||{};return e.tagFilters&&n.tagRefinements&&n.tagRefinements.length>0?new Error("[Tags] Cannot switch from the managed tag API to the advanced API. It is probably an error, if it is really what you want, you should first clear the tags with clearTags method."):e.tagRefinements.length>0&&n.tagFilters?new Error("[Tags] Cannot switch from the advanced tag API to the managed API. It is probably an error, if it is not, you should first clear the tags with clearTags method."):e.numericFilters&&n.numericRefinements&&!hs(n.numericRefinements)?new Error("[Numeric filters] Can't switch from the advanced to the managed API. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):!hs(e.numericRefinements)&&n.numericFilters?new Error("[Numeric filters] Can't switch from the managed API to the advanced. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):null},N.prototype={constructor:N,clearRefinements:function(e){var t=ac.clearRefinement;return this.setQueryParameters({numericRefinements:this._clearNumericRefinements(e),facetsRefinements:t(this.facetsRefinements,e,"conjunctiveFacet"),facetsExcludes:t(this.facetsExcludes,e,"exclude"),disjunctiveFacetsRefinements:t(this.disjunctiveFacetsRefinements,e,"disjunctiveFacet"),hierarchicalFacetsRefinements:t(this.hierarchicalFacetsRefinements,e,"hierarchicalFacet")})},clearTags:function(){return void 0===this.tagFilters&&0===this.tagRefinements.length?this:this.setQueryParameters({tagFilters:void 0,tagRefinements:[]})},setIndex:function(e){return e===this.index?this:this.setQueryParameters({index:e})},setQuery:function(e){return e===this.query?this:this.setQueryParameters({query:e})},setPage:function(e){return e===this.page?this:this.setQueryParameters({page:e})},setFacets:function(e){return this.setQueryParameters({facets:e})},setDisjunctiveFacets:function(e){return this.setQueryParameters({disjunctiveFacets:e})},setHitsPerPage:function(e){return this.hitsPerPage===e?this:this.setQueryParameters({hitsPerPage:e})},setTypoTolerance:function(e){return this.typoTolerance===e?this:this.setQueryParameters({typoTolerance:e})},addNumericRefinement:function(e,t,n){var r=nc(n);if(this.isNumericRefined(e,t,r))return this;var i=tc({},this.numericRefinements);return i[e]=tc({},i[e]),i[e][t]?(i[e][t]=i[e][t].slice(),i[e][t].push(r)):i[e][t]=[r],this.setQueryParameters({numericRefinements:i})},getConjunctiveRefinements:function(e){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.facetsRefinements[e]||[]},getDisjunctiveRefinements:function(e){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return this.disjunctiveFacetsRefinements[e]||[]},getHierarchicalRefinement:function(e){return this.hierarchicalFacetsRefinements[e]||[]},getExcludeRefinements:function(e){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.facetsExcludes[e]||[]},removeNumericRefinement:function(e,t,n){if(void 0!==n){var r=nc(n);return this.isNumericRefined(e,t,r)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(n,i){return i===e&&n.op===t&&Jo(n.val,r)})}):this}return void 0!==t?this.isNumericRefined(e,t)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(n,r){return r===e&&n.op===t})}):this:this.isNumericRefined(e)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(t,n){return n===e})}):this},getNumericRefinements:function(e){return this.numericRefinements[e]||{}},getNumericRefinement:function(e,t){return this.numericRefinements[e]&&this.numericRefinements[e][t]},_clearNumericRefinements:function(e){return vu(e)?{}:bu(e)?Xa(this.numericRefinements,e):on(e)?eu(this.numericRefinements,function(t,n,r){var i={};return Ns(n,function(t,n){var a=[];Ns(t,function(t){e({val:t,op:n},r,"numeric")||a.push(t)}),hs(a)||(i[n]=a)}),hs(i)||(t[r]=i),t},{}):void 0},addFacet:function(e){return this.isConjunctiveFacet(e)?this:this.setQueryParameters({facets:this.facets.concat([e])})},addDisjunctiveFacet:function(e){return this.isDisjunctiveFacet(e)?this:this.setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.concat([e])})},addHierarchicalFacet:function(e){if(this.isHierarchicalFacet(e.name))throw new Error("Cannot declare two hierarchical facets with the same name: `"+e.name+"`");return this.setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.concat([e])})},addFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return ac.isRefined(this.facetsRefinements,e,t)?this:this.setQueryParameters({facetsRefinements:ac.addRefinement(this.facetsRefinements,e,t)})},addExcludeRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return ac.isRefined(this.facetsExcludes,e,t)?this:this.setQueryParameters({facetsExcludes:ac.addRefinement(this.facetsExcludes,e,t)})},addDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return ac.isRefined(this.disjunctiveFacetsRefinements,e,t)?this:this.setQueryParameters({disjunctiveFacetsRefinements:ac.addRefinement(this.disjunctiveFacetsRefinements,e,t)})},addTagRefinement:function(e){if(this.isTagRefined(e))return this;var t={tagRefinements:this.tagRefinements.concat(e)};return this.setQueryParameters(t)},removeFacet:function(e){return this.isConjunctiveFacet(e)?this.clearRefinements(e).setQueryParameters({facets:Gs(this.facets,function(t){return t!==e})}):this},removeDisjunctiveFacet:function(e){return this.isDisjunctiveFacet(e)?this.clearRefinements(e).setQueryParameters({disjunctiveFacets:Gs(this.disjunctiveFacets,function(t){return t!==e})}):this},removeHierarchicalFacet:function(e){return this.isHierarchicalFacet(e)?this.clearRefinements(e).setQueryParameters({hierarchicalFacets:Gs(this.hierarchicalFacets,function(t){return t.name!==e})}):this},removeFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return ac.isRefined(this.facetsRefinements,e,t)?this.setQueryParameters({facetsRefinements:ac.removeRefinement(this.facetsRefinements,e,t)}):this},removeExcludeRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return ac.isRefined(this.facetsExcludes,e,t)?this.setQueryParameters({facetsExcludes:ac.removeRefinement(this.facetsExcludes,e,t)}):this},removeDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return ac.isRefined(this.disjunctiveFacetsRefinements,e,t)?this.setQueryParameters({disjunctiveFacetsRefinements:ac.removeRefinement(this.disjunctiveFacetsRefinements,e,t)}):this},removeTagRefinement:function(e){if(!this.isTagRefined(e))return this;var t={tagRefinements:Gs(this.tagRefinements,function(t){return t!==e})};return this.setQueryParameters(t)},toggleRefinement:function(e,t){return this.toggleFacetRefinement(e,t)},toggleFacetRefinement:function(e,t){if(this.isHierarchicalFacet(e))return this.toggleHierarchicalFacetRefinement(e,t);if(this.isConjunctiveFacet(e))return this.toggleConjunctiveFacetRefinement(e,t);if(this.isDisjunctiveFacet(e))return this.toggleDisjunctiveFacetRefinement(e,t);throw new Error("Cannot refine the undeclared facet "+e+"; it should be added to the helper options facets, disjunctiveFacets or hierarchicalFacets")},toggleConjunctiveFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsRefinements:ac.toggleRefinement(this.facetsRefinements,e,t)})},toggleExcludeFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsExcludes:ac.toggleRefinement(this.facetsExcludes,e,t)})},toggleDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return this.setQueryParameters({disjunctiveFacetsRefinements:ac.toggleRefinement(this.disjunctiveFacetsRefinements,e,t)})},toggleHierarchicalFacetRefinement:function(e,t){if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration");var n=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e)),r={};return void 0!==this.hierarchicalFacetsRefinements[e]&&this.hierarchicalFacetsRefinements[e].length>0&&(this.hierarchicalFacetsRefinements[e][0]===t||0===this.hierarchicalFacetsRefinements[e][0].indexOf(t+n))?-1===t.indexOf(n)?r[e]=[]:r[e]=[t.slice(0,t.lastIndexOf(n))]:r[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:Gu({},r,this.hierarchicalFacetsRefinements)})},addHierarchicalFacetRefinement:function(e,t){if(this.isHierarchicalFacetRefined(e))throw new Error(e+" is already refined.");var n={};return n[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:Gu({},n,this.hierarchicalFacetsRefinements)})},removeHierarchicalFacetRefinement:function(e){if(!this.isHierarchicalFacetRefined(e))throw new Error(e+" is not refined.");var t={};return t[e]=[],this.setQueryParameters({hierarchicalFacetsRefinements:Gu({},t,this.hierarchicalFacetsRefinements)})},toggleTagRefinement:function(e){return this.isTagRefined(e)?this.removeTagRefinement(e):this.addTagRefinement(e)},isDisjunctiveFacet:function(e){return pu(this.disjunctiveFacets,e)>-1},isHierarchicalFacet:function(e){return void 0!==this.getHierarchicalFacetByName(e)},isConjunctiveFacet:function(e){return pu(this.facets,e)>-1},isFacetRefined:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return ac.isRefined(this.facetsRefinements,e,t)},isExcludeRefined:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return ac.isRefined(this.facetsExcludes,e,t)},isDisjunctiveFacetRefined:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return ac.isRefined(this.disjunctiveFacetsRefinements,e,t)},isHierarchicalFacetRefined:function(e,t){if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration");var n=this.getHierarchicalRefinement(e);return t?-1!==pu(n,t):n.length>0},isNumericRefined:function(e,t,n){if(vu(n)&&vu(t))return!!this.numericRefinements[e];var r=this.numericRefinements[e]&&!vu(this.numericRefinements[e][t]);if(vu(n)||!r)return r;var i=nc(n),a=!vu(function(e,t){return Fu(e,function(e){return Jo(e,t)})}(this.numericRefinements[e][t],i));return r&&a},isTagRefined:function(e){return-1!==pu(this.tagRefinements,e)},getRefinedDisjunctiveFacets:function(){var e=js(un(this.numericRefinements),this.disjunctiveFacets);return un(this.disjunctiveFacetsRefinements).concat(e).concat(this.getRefinedHierarchicalFacets())},getRefinedHierarchicalFacets:function(){return js(Ks(this.hierarchicalFacets,"name"),un(this.hierarchicalFacetsRefinements))},getUnrefinedDisjunctiveFacets:function(){var e=this.getRefinedDisjunctiveFacets();return Gs(this.disjunctiveFacets,function(t){return-1===pu(e,t)})},managedParameters:["index","facets","disjunctiveFacets","facetsRefinements","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacets","hierarchicalFacetsRefinements"],getQueryParams:function(){var e=this.managedParameters,t={};return Os(this,function(n,r){-1===pu(e,r)&&void 0!==n&&(t[r]=n)}),t},getQueryParameter:function(e){if(!this.hasOwnProperty(e))throw new Error("Parameter '"+e+"' is not an attribute of SearchParameters (http://algolia.github.io/algoliasearch-helper-js/docs/SearchParameters.html)");return this[e]},setQueryParameter:function(e,t){if(this[e]===t)return this;var n={};return n[e]=t,this.setQueryParameters(n)},setQueryParameters:function(e){if(!e)return this;var t=N.validate(this,e);if(t)throw t;var n=N._parseNumbers(e);return this.mutateMe(function(t){var r=un(e);return Ns(r,function(e){t[e]=n[e]}),t})},filter:function(e){return rc(this,e)},mutateMe:function(e){var t=new this.constructor(this);return e(t,this),t},_getHierarchicalFacetSortBy:function(e){return e.sortBy||["isRefined:desc","name:asc"]},_getHierarchicalFacetSeparator:function(e){return e.separator||" > "},_getHierarchicalRootPath:function(e){return e.rootPath||null},_getHierarchicalShowParentLevel:function(e){return"boolean"!=typeof e.showParentLevel||e.showParentLevel},getHierarchicalFacetByName:function(e){return Fu(this.hierarchicalFacets,{name:e})},getHierarchicalFacetBreadcrumb:function(e){if(!this.isHierarchicalFacet(e))throw new Error("Cannot get the breadcrumb of an unknown hierarchical facet: `"+e+"`");var t=this.getHierarchicalRefinement(e)[0];if(!t)return[];var n=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e)),r=t.split(n);return Ks(r,zu)}};var oc=N,sc=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var a=e[t];a&&(i[r++]=a)}return i},uc=function(e,t){for(var n,r=-1,i=e.length;++r<i;){var a=t(e[r]);void 0!==a&&(n=void 0===n?a:n+a)}return n},cc=function(e,t){return e&&e.length?uc(e,Js(t,2)):0},fc=function(e,t){return ur(t,function(t){return e[t]})},hc=function(e){return null==e?[]:fc(e,un(e))},lc=Math.max,pc=function(e,t,n,r){e=sn(e)?e:hc(e),n=n&&!r?hu(n):0;var i=e.length;return n<0&&(n=lc(i+n,0)),bu(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&ar(e,t,n)>-1},dc=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e},gc=function(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e==e,a=ba(e),o=void 0!==t,s=null===t,u=t==t,c=ba(t);if(!s&&!c&&!a&&e>t||a&&o&&u&&!s&&!c||r&&o&&u||!n&&u||!i)return 1;if(!r&&!a&&!c&&e<t||c&&n&&i&&!r&&!a||s&&n&&i||!o&&i||!u)return-1}return 0},mc=function(e,t,n){for(var r=-1,i=e.criteria,a=t.criteria,o=i.length,s=n.length;++r<o;){var u=gc(i[r],a[r]);if(u)return r>=s?u:u*("desc"==n[r]?-1:1)}return e.index-t.index},vc=function(e,t,n){var r=-1;t=ur(t.length?t:[mr],kt(Js));var i=Zs(e,function(e,n,i){return{criteria:ur(t,function(t){return t(e)}),index:++r,value:e}});return dc(i,function(e,t){return mc(e,t,n)})},yc=function(e,t,n,r){return null==e?[]:(Nt(t)||(t=null==t?[]:[t]),n=r?void 0:n,Nt(n)||(n=null==n?[]:[n]),vc(e,t,n))},bc=li&&new li,Rc=bc?function(e,t){return bc.set(e,t),e}:mr,wc=function(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=sa(e.prototype),r=e.apply(n,t);return en(r)?r:n}},_c=1,Fc=function(e,t,n){function r(){return(this&&this!==lt&&this instanceof r?a:e).apply(i?n:this,arguments)}var i=t&_c,a=wc(e);return r},xc=Math.max,Pc=function(e,t,n,r){for(var i=-1,a=e.length,o=n.length,s=-1,u=t.length,c=xc(a-o,0),f=Array(u+c),h=!r;++s<u;)f[s]=t[s];for(;++i<o;)(h||i<a)&&(f[n[i]]=e[i]);for(;c--;)f[s++]=e[i++];return f},jc=Math.max,Sc=function(e,t,n,r){for(var i=-1,a=e.length,o=-1,s=n.length,u=-1,c=t.length,f=jc(a-s,0),h=Array(f+c),l=!r;++i<f;)h[i]=e[i];for(var p=i;++u<c;)h[p+u]=t[u];for(;++o<s;)(l||i<a)&&(h[p+n[o]]=e[i++]);return h},Ec=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r},Ac=function(){},Oc=4294967295;(I.prototype=sa(Ac.prototype)).constructor=I;var Tc=I,Nc=bc?function(e){return bc.get(e)}:function(){},Ic={},Hc=Object.prototype.hasOwnProperty,Bc=function(e){for(var t=e.name+"",n=Ic[t],r=Hc.call(Ic,t)?n.length:0;r--;){var i=n[r],a=i.func;if(null==a||a==e)return i.name}return t};(H.prototype=sa(Ac.prototype)).constructor=H;var Mc=H,Cc=function(e){if(e instanceof Tc)return e.clone();var t=new Mc(e.__wrapped__,e.__chain__);return t.__actions__=Gr(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t},Dc=Object.prototype.hasOwnProperty;(B.prototype=Ac.prototype).constructor=B;var Lc=B,Uc=function(e){var t=Bc(e),n=Lc[t];if("function"!=typeof n||!(t in Tc.prototype))return!1;if(e===n)return!0;var r=Nc(n);return!!r&&e===r[0]},Qc=jr(Rc),kc=/\{\n\/\* \[wrapped with (.+)\] \*/,zc=/,? & /,Vc=function(e){var t=e.match(kc);return t?t[1].split(zc):[]},qc=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Yc=function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(qc,"{\n/* [wrapped with "+t+"] */\n")},Wc=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],$c=function(e,t){return Dr(Wc,function(n){var r="_."+n[0];t&n[1]&&!or(e,r)&&e.push(r)}),e.sort()},Jc=function(e,t,n){var r=t+"";return Sr(e,Yc(r,$c(Vc(r),n)))},Gc=1,Zc=2,Kc=4,Xc=8,ef=32,tf=64,nf=function(e,t,n,r,i,a,o,s,u,c){var f=t&Xc;t|=f?ef:tf,(t&=~(f?tf:ef))&Kc||(t&=~(Gc|Zc));var h=[e,t,i,f?a:void 0,f?o:void 0,f?void 0:a,f?void 0:o,s,u,c],l=n.apply(void 0,h);return Uc(e)&&Qc(l,h),l.placeholder=r,Jc(l,e,t)},rf=function(e){return e.placeholder},af=Math.min,of=function(e,t){for(var n=e.length,r=af(t.length,n),i=Gr(e);r--;){var a=t[r];e[r]=Ct(a,n)?i[a]:void 0}return e},sf="__lodash_placeholder__",uf=function(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n];o!==t&&o!==sf||(e[n]=sf,a[i++]=n)}return a},cf=1,ff=2,hf=8,lf=16,pf=128,df=512,gf=M,mf=function(e,t,n){function r(){for(var a=arguments.length,o=Array(a),s=a,u=rf(r);s--;)o[s]=arguments[s];var c=a<3&&o[0]!==u&&o[a-1]!==u?[]:uf(o,u);return(a-=c.length)<n?nf(e,t,gf,r.placeholder,void 0,o,c,void 0,void 0,n-a):vr(this&&this!==lt&&this instanceof r?i:e,this,o)}var i=wc(e);return r},vf=1,yf=function(e,t,n,r){function i(){for(var t=-1,s=arguments.length,u=-1,c=r.length,f=Array(c+s),h=this&&this!==lt&&this instanceof i?o:e;++u<c;)f[u]=r[u];for(;s--;)f[u++]=arguments[++t];return vr(h,a?n:this,f)}var a=t&vf,o=wc(e);return i},bf="__lodash_placeholder__",Rf=1,wf=2,_f=4,Ff=8,xf=128,Pf=256,jf=Math.min,Sf=function(e,t){var n=e[1],r=t[1],i=n|r,a=i<(Rf|wf|xf),o=r==xf&&n==Ff||r==xf&&n==Pf&&e[7].length<=t[8]||r==(xf|Pf)&&t[7].length<=t[8]&&n==Ff;if(!a&&!o)return e;r&Rf&&(e[2]=t[2],i|=n&Rf?0:_f);var s=t[3];if(s){var u=e[3];e[3]=u?Pc(u,s,t[4]):s,e[4]=u?uf(e[3],bf):t[4]}return(s=t[5])&&(u=e[5],e[5]=u?Sc(u,s,t[6]):s,e[6]=u?uf(e[5],bf):t[6]),(s=t[7])&&(e[7]=s),r&xf&&(e[8]=null==e[8]?t[8]:jf(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e},Ef="Expected a function",Af=1,Of=2,Tf=8,Nf=16,If=32,Hf=64,Bf=Math.max,Mf=function(e,t,n,r,i,a,o,s){var u=t&Of;if(!u&&"function"!=typeof e)throw new TypeError(Ef);var c=r?r.length:0;if(c||(t&=~(If|Hf),r=i=void 0),o=void 0===o?o:Bf(hu(o),0),s=void 0===s?s:hu(s),c-=i?i.length:0,t&Hf){var f=r,h=i;r=i=void 0}var l=u?void 0:Nc(e),p=[e,t,n,r,i,f,h,a,o,s];if(l&&Sf(p,l),e=p[0],t=p[1],n=p[2],r=p[3],i=p[4],!(s=p[9]=void 0===p[9]?u?0:e.length:Bf(p[9]-c,0))&&t&(Tf|Nf)&&(t&=~(Tf|Nf)),t&&t!=Af)d=t==Tf||t==Nf?mf(e,t,s):t!=If&&t!=(Af|If)||i.length?gf.apply(void 0,p):yf(e,t,n,r);else var d=Fc(e,t,n);return Jc((l?Rc:Qc)(d,p),e,t)},Cf=Er(function(e,t){var n=uf(t,rf(Cf));return Mf(e,32,void 0,t,n)});Cf.placeholder={};var Df=Cf,Lf=Er(function(e,t){var n=uf(t,rf(Lf));return Mf(e,64,void 0,t,n)});Lf.placeholder={};var Uf=Lf,Qf=function(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e},kf=function(e,t,n){return e=Ha(e),n=null==n?0:Qf(hu(n),0,e.length),t=Ia(t),e.slice(n,n+t.length)==t},zf=function(e,t){return eu(e,function(e,n){var r=n.split(":");if(t&&1===r.length){var i=Fu(t,function(e){return kf(e,n[0])});i&&(r=i.split(":"))}return e[0].push(r[0]),e[1].push(r[1]),e},[[],[]])},Vf=function(e,t,n,r){if(!en(e))return e;for(var i=-1,a=(t=Ba(t,e)).length,o=a-1,s=e;null!=s&&++i<a;){var u=Da(t[i]),c=n;if(i!=o){var f=s[u];void 0===(c=r?r(f,u,s):void 0)&&(c=en(f)?f:Ct(t[i+1])?[]:{})}Qr(s,u,c),s=s[u]}return e},qf=function(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],s=La(e,o);n(s,o)&&Vf(a,Ba(o,e),s)}return a},Yf=function(e,t){if(null==e)return{};var n=ur(ui(e),function(e){return[e]});return t=Js(t),qf(e,n,function(e,n){return t(e,n[0])})},Wf=function(e){return function(t,n){var r=e.hierarchicalFacets[n],i=e.hierarchicalFacetsRefinements[r.name]&&e.hierarchicalFacetsRefinements[r.name][0]||"",a=e._getHierarchicalFacetSeparator(r),o=e._getHierarchicalRootPath(r),s=e._getHierarchicalShowParentLevel(r),u=function(e,t,n,r,i){return function(a,o,s){var u=a;if(s>0){var c=0;for(u=a;c<s;)u=u&&Fu(u.data,{isRefined:!0}),c++}if(u){var f=function(e,t,n,r,i){return function(a,o){return(!r||0===o.indexOf(r)&&r!==o)&&(!r&&-1===o.indexOf(n)||r&&o.split(n).length-r.split(n).length==1||-1===o.indexOf(n)&&-1===t.indexOf(n)||0===t.indexOf(o)||0===o.indexOf(e+n)&&(i||0===o.indexOf(t)))}}(u.path||n,i,t,n,r);u.data=yc(Ks(Yf(o.data,f),function(e,t){return function(n,r){return{name:zu(Ma(r.split(e))),path:r,count:n,isRefined:t===r||0===t.indexOf(r+e),data:null}}}(t,i)),e[0],e[1])}return a}}(zf(e._getHierarchicalFacetSortBy(r)),a,o,s,i),c=t;return o&&(c=t.slice(o.split(a).length)),eu(c,u,{name:e.hierarchicalFacets[n].name,count:null,isRefined:!0,path:null,data:null})}};L.prototype.getFacetByName=function(e){var t={name:e};return Fu(this.facets,t)||Fu(this.disjunctiveFacets,t)||Fu(this.hierarchicalFacets,t)},L.DEFAULT_SORT=["isRefined:desc","count:desc","name:asc"],L.prototype.getFacetValues=function(e,t){var n=function(e,t){var n={name:t};if(e._state.isConjunctiveFacet(t)){var r=Fu(e.facets,n);return r?Ks(r.data,function(n,r){return{name:r,count:n,isRefined:e._state.isFacetRefined(t,r),isExcluded:e._state.isExcludeRefined(t,r)}}):[]}if(e._state.isDisjunctiveFacet(t)){var i=Fu(e.disjunctiveFacets,n);return i?Ks(i.data,function(n,r){return{name:r,count:n,isRefined:e._state.isDisjunctiveFacetRefined(t,r)}}):[]}if(e._state.isHierarchicalFacet(t))return Fu(e.hierarchicalFacets,n)}(this,e);if(!n)throw new Error(e+" is not a retrieved facet.");var r=Gu({},t,{sortBy:L.DEFAULT_SORT});if(Nt(r.sortBy)){var i=zf(r.sortBy,L.DEFAULT_SORT);return Nt(n)?yc(n,i[0],i[1]):U(Uf(yc,i[0],i[1]),n)}if(on(r.sortBy))return Nt(n)?n.sort(r.sortBy):U(Df(function(e,t){return t.sort(e)},r.sortBy),n);throw new Error("options.sortBy is optional but if defined it must be either an array of string (predicates) or a sorting function")},L.prototype.getFacetStats=function(e){if(this._state.isConjunctiveFacet(e))return Q(this.facets,e);if(this._state.isDisjunctiveFacet(e))return Q(this.disjunctiveFacets,e);throw new Error(e+" is not present in `facets` or `disjunctiveFacets`")},L.prototype.getRefinements=function(){var e=this._state,t=this,n=[];return Ns(e.facetsRefinements,function(e,r){Ns(e,function(e){n.push(k(0,"facet",r,e,t.facets))})}),Ns(e.facetsExcludes,function(e,r){Ns(e,function(e){n.push(k(0,"exclude",r,e,t.facets))})}),Ns(e.disjunctiveFacetsRefinements,function(e,r){Ns(e,function(e){n.push(k(0,"disjunctive",r,e,t.disjunctiveFacets))})}),Ns(e.hierarchicalFacetsRefinements,function(r,i){Ns(r,function(r){n.push(function(e,t,n,r){for(var i=Fu(r,{name:t}),a=e.getHierarchicalFacetByName(t),o=n.split(a.separator),s=o[o.length-1],u=0;void 0!==i&&u<o.length;++u)i=Fu(i.data,{name:o[u]});var c=Rs(i,"count"),f=Rs(i,"exhaustive");return{type:"hierarchical",attributeName:t,name:s,count:c||0,exhaustive:f||!1}}(e,i,r,t.hierarchicalFacets))})}),Ns(e.numericRefinements,function(e,t){Ns(e,function(e,r){Ns(e,function(e){n.push({type:"numeric",attributeName:t,name:e,numericValue:e,operator:r})})})}),Ns(e.tagRefinements,function(e){n.push({type:"tag",attributeName:"_tags",name:e})}),n};var $f=L,Jf=[],Gf=[],Zf="undefined"!=typeof Uint8Array?Uint8Array:Array,Kf=!1,Xf={}.toString,eh=Array.isArray||function(e){return"[object Array]"==Xf.call(e)};J.TYPED_ARRAY_SUPPORT=void 0===eo.TYPED_ARRAY_SUPPORT||eo.TYPED_ARRAY_SUPPORT,J.poolSize=8192,J._augment=function(e){return e.__proto__=J.prototype,e},J.from=function(e,t,n){return G(null,e,t,n)},J.TYPED_ARRAY_SUPPORT&&(J.prototype.__proto__=Uint8Array.prototype,J.__proto__=Uint8Array),J.alloc=function(e,t,n){return function(e,t,n,r){return Z(t),t<=0?$(e,t):void 0!==n?"string"==typeof r?$(e,t).fill(n,r):$(e,t).fill(n):$(e,t)}(null,e,t,n)},J.allocUnsafe=function(e){return K(null,e)},J.allocUnsafeSlow=function(e){return K(null,e)},J.isBuffer=function(e){return null!=e&&(!!e._isBuffer||ye(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&ye(e.slice(0,0))}(e))},J.compare=function(e,t){if(!te(e)||!te(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},J.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},J.concat=function(e,t){if(!eh(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return J.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=J.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!te(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},J.byteLength=ne,J.prototype._isBuffer=!0,J.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)re(this,t,t+1);return this},J.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)re(this,t,t+3),re(this,t+1,t+2);return this},J.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)re(this,t,t+7),re(this,t+1,t+6),re(this,t+2,t+5),re(this,t+3,t+4);return this},J.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?se(this,0,e):function(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",a=t;a<n;++a)i+=function(e){return e<16?"0"+e.toString(16):e.toString(16)}(e[a]);return i}(this,t,n);case"utf8":case"utf-8":return se(this,t,n);case"ascii":return function(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}(this,t,n);case"latin1":case"binary":return function(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}(this,t,n);case"base64":return function(e,t,n){return V(0===t&&n===e.length?e:e.slice(t,n))}(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,n){for(var r=e.slice(t,n),i="",a=0;a<r.length;a+=2)i+=String.fromCharCode(r[a]+256*r[a+1]);return i}(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}.apply(this,arguments)},J.prototype.equals=function(e){if(!te(e))throw new TypeError("Argument must be a Buffer");return this===e||0===J.compare(this,e)},J.prototype.inspect=function(){var e="";return this.length>0&&(e=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(e+=" ... ")),"<Buffer "+e+">"},J.prototype.compare=function(e,t,n,r,i){if(!te(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var a=i-r,o=n-t,s=Math.min(a,o),u=this.slice(r,i),c=e.slice(t,n),f=0;f<s;++f)if(u[f]!==c[f]){a=u[f],o=c[f];break}return a<o?-1:o<a?1:0},J.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},J.prototype.indexOf=function(e,t,n){return ie(this,e,t,n,!0)},J.prototype.lastIndexOf=function(e,t,n){return ie(this,e,t,n,!1)},J.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return function(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var a=t.length;if(a%2!=0)throw new TypeError("Invalid hex string");r>a/2&&(r=a/2);for(var o=0;o<r;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[n+o]=s}return o}(this,e,t,n);case"utf8":case"utf-8":return function(e,t,n,r){return ve(ge(t,e.length-n),e,n,r)}(this,e,t,n);case"ascii":return oe(this,e,t,n);case"latin1":case"binary":return function(e,t,n,r){return oe(e,t,n,r)}(this,e,t,n);case"base64":return function(e,t,n,r){return ve(me(t),e,n,r)}(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,n,r){return ve(function(e,t){for(var n,r,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)n=e.charCodeAt(o),r=n>>8,i=n%256,a.push(i),a.push(r);return a}(t,e.length-n),e,n,r)}(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},J.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var th=4096;J.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r;if(J.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=J.prototype;else{var i=t-e;r=new J(i,void 0);for(var a=0;a<i;++a)r[a]=this[a+e]}return r},J.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||ue(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r},J.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||ue(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},J.prototype.readUInt8=function(e,t){return t||ue(e,1,this.length),this[e]},J.prototype.readUInt16LE=function(e,t){return t||ue(e,2,this.length),this[e]|this[e+1]<<8},J.prototype.readUInt16BE=function(e,t){return t||ue(e,2,this.length),this[e]<<8|this[e+1]},J.prototype.readUInt32LE=function(e,t){return t||ue(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},J.prototype.readUInt32BE=function(e,t){return t||ue(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},J.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||ue(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},J.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||ue(e,t,this.length);for(var r=t,i=1,a=this[e+--r];r>0&&(i*=256);)a+=this[e+--r]*i;return i*=128,a>=i&&(a-=Math.pow(2,8*t)),a},J.prototype.readInt8=function(e,t){return t||ue(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},J.prototype.readInt16LE=function(e,t){t||ue(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},J.prototype.readInt16BE=function(e,t){t||ue(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},J.prototype.readInt32LE=function(e,t){return t||ue(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},J.prototype.readInt32BE=function(e,t){return t||ue(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},J.prototype.readFloatLE=function(e,t){return t||ue(e,4,this.length),q(this,e,!0,23,4)},J.prototype.readFloatBE=function(e,t){return t||ue(e,4,this.length),q(this,e,!1,23,4)},J.prototype.readDoubleLE=function(e,t){return t||ue(e,8,this.length),q(this,e,!0,52,8)},J.prototype.readDoubleBE=function(e,t){return t||ue(e,8,this.length),q(this,e,!1,52,8)},J.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){ce(this,e,t,n,Math.pow(2,8*n)-1,0)}var i=1,a=0;for(this[t]=255&e;++a<n&&(i*=256);)this[t+a]=e/i&255;return t+n},J.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){ce(this,e,t,n,Math.pow(2,8*n)-1,0)}var i=n-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+n},J.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||ce(this,e,t,1,255,0),J.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},J.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||ce(this,e,t,2,65535,0),J.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):fe(this,e,t,!0),t+2},J.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||ce(this,e,t,2,65535,0),J.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):fe(this,e,t,!1),t+2},J.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||ce(this,e,t,4,4294967295,0),J.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):he(this,e,t,!0),t+4},J.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||ce(this,e,t,4,4294967295,0),J.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):he(this,e,t,!1),t+4},J.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);ce(this,e,t,n,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<n&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},J.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);ce(this,e,t,n,i-1,-i)}var a=n-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},J.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||ce(this,e,t,1,127,-128),J.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},J.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||ce(this,e,t,2,32767,-32768),J.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):fe(this,e,t,!0),t+2},J.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||ce(this,e,t,2,32767,-32768),J.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):fe(this,e,t,!1),t+2},J.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||ce(this,e,t,4,2147483647,-2147483648),J.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):he(this,e,t,!0),t+4},J.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||ce(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),J.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):he(this,e,t,!1),t+4},J.prototype.writeFloatLE=function(e,t,n){return pe(this,e,t,!0,n)},J.prototype.writeFloatBE=function(e,t,n){return pe(this,e,t,!1,n)},J.prototype.writeDoubleLE=function(e,t,n){return de(this,e,t,!0,n)},J.prototype.writeDoubleBE=function(e,t,n){return de(this,e,t,!1,n)},J.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,a=r-n;if(this===e&&n<t&&t<r)for(i=a-1;i>=0;--i)e[i+t]=this[i+n];else if(a<1e3||!J.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},J.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!J.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0);var a;if("number"==typeof e)for(a=t;a<n;++a)this[a]=e;else{var o=te(e)?e:ge(new J(e,r).toString()),s=o.length;for(a=0;a<n-t;++a)this[a+t]=o[a%s]}return this};var nh=/[^+\/0-9A-Za-z-_]/g,rh=n(function(e){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}),ih=n(function(e,t){function n(e,i){var a={seen:[],stylize:function(e,t){return e}};return arguments.length>=3&&(a.depth=arguments[2]),arguments.length>=4&&(a.colors=arguments[3]),s(i)?a.showHidden=i:i&&t._extend(a,i),h(a.showHidden)&&(a.showHidden=!1),h(a.depth)&&(a.depth=2),h(a.colors)&&(a.colors=!1),h(a.customInspect)&&(a.customInspect=!0),a.colors&&(a.stylize=function(e,t){var r=n.styles[t];return r?"["+n.colors[r][0]+"m"+e+"["+n.colors[r][1]+"m":e}),r(a,e,a.depth)}function r(e,n,p){if(e.customInspect&&n&&m(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var v=n.inspect(p,e);return f(v)||(v=r(e,v,p)),v}var y=function(e,t){if(h(t))return e.stylize("undefined","undefined");if(f(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(c(t))return e.stylize(""+t,"number");if(s(t))return e.stylize(""+t,"boolean");if(u(t))return e.stylize("null","null")}(e,n);if(y)return y;var R=Object.keys(n),w=function(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}(R);if(e.showHidden&&(R=Object.getOwnPropertyNames(n)),g(n)&&(R.indexOf("message")>=0||R.indexOf("description")>=0))return i(n);if(0===R.length){if(m(n)){var _=n.name?": "+n.name:"";return e.stylize("[Function"+_+"]","special")}if(l(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(d(n))return e.stylize(Date.prototype.toString.call(n),"date");if(g(n))return i(n)}var F="",x=!1,P=["{","}"];if(o(n)&&(x=!0,P=["[","]"]),m(n)){F=" [Function"+(n.name?": "+n.name:"")+"]"}if(l(n)&&(F=" "+RegExp.prototype.toString.call(n)),d(n)&&(F=" "+Date.prototype.toUTCString.call(n)),g(n)&&(F=" "+i(n)),0===R.length&&(!x||0==n.length))return P[0]+F+P[1];if(p<0)return l(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special");e.seen.push(n);var j;return j=x?function(e,t,n,r,i){for(var o=[],s=0,u=t.length;s<u;++s)b(t,String(s))?o.push(a(e,t,n,r,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(a(e,t,n,r,i,!0))}),o}(e,n,p,w,R):R.map(function(t){return a(e,n,p,w,t,x)}),e.seen.pop(),function(e,t,n){var r=0;if(e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(j,F,P)}function i(e){return"["+Error.prototype.toString.call(e)+"]"}function a(e,t,n,i,a,o){var s,c,f;if((f=Object.getOwnPropertyDescriptor(t,a)||{value:t[a]}).get?c=f.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):f.set&&(c=e.stylize("[Setter]","special")),b(i,a)||(s="["+a+"]"),c||(e.seen.indexOf(f.value)<0?(c=u(n)?r(e,f.value,null):r(e,f.value,n-1)).indexOf("\n")>-1&&(c=o?c.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+c.split("\n").map(function(e){return"   "+e}).join("\n")):c=e.stylize("[Circular]","special")),h(s)){if(o&&a.match(/^\d+$/))return c;(s=JSON.stringify(""+a)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+c}function o(e){return Array.isArray(e)}function s(e){return"boolean"==typeof e}function u(e){return null===e}function c(e){return"number"==typeof e}function f(e){return"string"==typeof e}function h(e){return void 0===e}function l(e){return p(e)&&"[object RegExp]"===v(e)}function p(e){return"object"==typeof e&&null!==e}function d(e){return p(e)&&"[object Date]"===v(e)}function g(e){return p(e)&&("[object Error]"===v(e)||e instanceof Error)}function m(e){return"function"==typeof e}function v(e){return Object.prototype.toString.call(e)}function y(e){return e<10?"0"+e.toString(10):e.toString(10)}function b(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var R=/%[sdj%]/g;t.format=function(e){if(!f(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(n(arguments[r]));return t.join(" ")}for(var r=1,i=arguments,a=i.length,o=String(e).replace(R,function(e){if("%%"===e)return"%";if(r>=a)return e;switch(e){case"%s":return String(i[r++]);case"%d":return Number(i[r++]);case"%j":try{return JSON.stringify(i[r++])}catch(e){return"[Circular]"}default:return e}}),s=i[r];r<a;s=i[++r])u(s)||!p(s)?o+=" "+s:o+=" "+n(s);return o},t.deprecate=function(e,n){if(h(ct.process))return function(){return t.deprecate(e,n).apply(this,arguments)};if(!0===yo.noDeprecation)return e;var r=!1;return function(){if(!r){if(yo.throwDeprecation)throw new Error(n);yo.traceDeprecation?console.trace(n):console.error(n),r=!0}return e.apply(this,arguments)}};var w,_={};t.debuglog=function(e){if(h(w)&&(w=yo.env.NODE_DEBUG||""),e=e.toUpperCase(),!_[e])if(new RegExp("\\b"+e+"\\b","i").test(w)){var n=yo.pid;_[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,r)}}else _[e]=function(){};return _[e]},t.inspect=n,n.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},n.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=o,t.isBoolean=s,t.isNull=u,t.isNullOrUndefined=function(e){return null==e},t.isNumber=c,t.isString=f,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=h,t.isRegExp=l,t.isObject=p,t.isDate=d,t.isError=g,t.isFunction=m,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=function(e){return e instanceof J};var F=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.log=function(){console.log("%s - %s",function(){var e=new Date,t=[y(e.getHours()),y(e.getMinutes()),y(e.getSeconds())].join(":");return[e.getDate(),F[e.getMonth()],t].join(" ")}(),t.format.apply(t,arguments))},t.inherits=rh,t._extend=function(e,t){if(!t||!p(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}),ah=(ih.format,ih.deprecate,ih.debuglog,ih.inspect,ih.isArray,ih.isBoolean,ih.isNull,ih.isNullOrUndefined,ih.isNumber,ih.isString,ih.isSymbol,ih.isUndefined,ih.isRegExp,ih.isObject,ih.isDate,ih.isError,ih.isFunction,ih.isPrimitive,ih.isBuffer,ih.log,ih.inherits,ih._extend,be);be.EventEmitter=be,be.prototype._events=void 0,be.prototype._maxListeners=void 0,be.defaultMaxListeners=10,be.prototype.setMaxListeners=function(e){if(!function(e){return"number"==typeof e}(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},be.prototype.emit=function(e){var t,n,r,i,a,o;if(this._events||(this._events={}),"error"===e&&(!this._events.error||we(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var s=new Error('Uncaught, unspecified "error" event. ('+t+")");throw s.context=t,s}if(n=this._events[e],_e(n))return!1;if(Re(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),n.apply(this,i)}else if(we(n))for(i=Array.prototype.slice.call(arguments,1),r=(o=n.slice()).length,a=0;a<r;a++)o[a].apply(this,i);return!0},be.prototype.addListener=function(e,t){var n;if(!Re(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,Re(t.listener)?t.listener:t),this._events[e]?we(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,we(this._events[e])&&!this._events[e].warned&&(n=_e(this._maxListeners)?be.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},be.prototype.on=be.prototype.addListener,be.prototype.once=function(e,t){function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}if(!Re(t))throw TypeError("listener must be a function");var r=!1;return n.listener=t,this.on(e,n),this},be.prototype.removeListener=function(e,t){var n,r,i,a;if(!Re(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],i=n.length,r=-1,n===t||Re(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(we(n)){for(a=i;a-- >0;)if(n[a]===t||n[a].listener&&n[a].listener===t){r=a;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},be.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],Re(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},be.prototype.listeners=function(e){return this._events&&this._events[e]?Re(this._events[e])?[this._events[e]]:this._events[e].slice():[]},be.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(Re(t))return 1;if(t)return t.length}return 0},be.listenerCount=function(e,t){return e.listenerCount(t)},ih.inherits(Fe,ah.EventEmitter),Fe.prototype.detach=function(){this.removeAllListeners(),this.main.detachDerivedHelper(this)},Fe.prototype.getModifiedState=function(e){return this.fn(e)};var oh=Fe,sh={_getQueries:function(e,t){var n=[];return n.push({indexName:e,params:sh._getHitsSearchParams(t)}),Ns(t.getRefinedDisjunctiveFacets(),function(r){n.push({indexName:e,params:sh._getDisjunctiveFacetSearchParams(t,r)})}),Ns(t.getRefinedHierarchicalFacets(),function(r){var i=t.getHierarchicalFacetByName(r),a=t.getHierarchicalRefinement(r),o=t._getHierarchicalFacetSeparator(i);a.length>0&&a[0].split(o).length>1&&n.push({indexName:e,params:sh._getDisjunctiveFacetSearchParams(t,r,!0)})}),n},_getHitsSearchParams:function(e){var t=e.facets.concat(e.disjunctiveFacets).concat(sh._getHitsHierarchicalFacetsAttributes(e)),n=sh._getFacetFilters(e),r=sh._getNumericFilters(e),i={facets:t,tagFilters:sh._getTagFilters(e)};return n.length>0&&(i.facetFilters=n),r.length>0&&(i.numericFilters=r),tc(e.getQueryParams(),i)},_getDisjunctiveFacetSearchParams:function(e,t,n){var r=sh._getFacetFilters(e,t,n),i=sh._getNumericFilters(e,t),a={hitsPerPage:1,page:0,attributesToRetrieve:[],attributesToHighlight:[],attributesToSnippet:[],tagFilters:sh._getTagFilters(e),analytics:!1},o=e.getHierarchicalFacetByName(t);return a.facets=o?sh._getDisjunctiveHierarchicalFacetAttribute(e,o,n):t,i.length>0&&(a.numericFilters=i),r.length>0&&(a.facetFilters=r),tc(e.getQueryParams(),a)},_getNumericFilters:function(e,t){if(e.numericFilters)return e.numericFilters;var n=[];return Ns(e.numericRefinements,function(e,r){Ns(e,function(e,i){t!==r&&Ns(e,function(e){if(Nt(e)){var t=Ks(e,function(e){return r+i+e});n.push(t)}else n.push(r+i+e)})})}),n},_getTagFilters:function(e){return e.tagFilters?e.tagFilters:e.tagRefinements.join(",")},_getFacetFilters:function(e,t,n){var r=[];return Ns(e.facetsRefinements,function(e,t){Ns(e,function(e){r.push(t+":"+e)})}),Ns(e.facetsExcludes,function(e,t){Ns(e,function(e){r.push(t+":-"+e)})}),Ns(e.disjunctiveFacetsRefinements,function(e,n){if(n!==t&&e&&0!==e.length){var i=[];Ns(e,function(e){i.push(n+":"+e)}),r.push(i)}}),Ns(e.hierarchicalFacetsRefinements,function(i,a){var o=i[0];if(void 0!==o){var s,u,c=e.getHierarchicalFacetByName(a),f=e._getHierarchicalFacetSeparator(c),h=e._getHierarchicalRootPath(c);if(t===a){if(-1===o.indexOf(f)||!h&&!0===n||h&&h.split(f).length===o.split(f).length)return;h?(u=h.split(f).length-1,o=h):(u=o.split(f).length-2,o=o.slice(0,o.lastIndexOf(f))),s=c.attributes[u]}else u=o.split(f).length-1,s=c.attributes[u];s&&r.push([s+":"+o])}}),r},_getHitsHierarchicalFacetsAttributes:function(e){return eu(e.hierarchicalFacets,function(t,n){var r=e.getHierarchicalRefinement(n.name)[0];if(!r)return t.push(n.attributes[0]),t;var i=e._getHierarchicalFacetSeparator(n),a=r.split(i).length,o=n.attributes.slice(0,a+1);return t.concat(o)},[])},_getDisjunctiveHierarchicalFacetAttribute:function(e,t,n){var r=e._getHierarchicalFacetSeparator(t);if(!0===n){var i=e._getHierarchicalRootPath(t),a=0;return i&&(a=i.split(r).length),[t.attributes[a]]}var o=(e.getHierarchicalRefinement(t.name)[0]||"").split(r).length-1;return t.attributes.slice(0,o+1)},getSearchForFacetQuery:function(e,t,n,r){var i=r.isDisjunctiveFacet(e)?r.clearRefinements(e):r,a={facetQuery:t,facetName:e};"number"==typeof n&&(a.maxFacetHits=n);return tc(sh._getHitsSearchParams(i),a)}},uh=sh,ch=function(e,t,n,r){return Es(e,function(e,i,a){t(r,n(e),i,a)}),r},fh=function(e,t){return function(n,r){return ch(n,e,t(r),{})}}(function(e,t,n){e[t]=n},Rr(mr)),hh={advancedSyntax:"aS",allowTyposOnNumericTokens:"aTONT",analyticsTags:"aT",analytics:"a",aroundLatLngViaIP:"aLLVIP",aroundLatLng:"aLL",aroundPrecision:"aP",aroundRadius:"aR",attributesToHighlight:"aTH",attributesToRetrieve:"aTR",attributesToSnippet:"aTS",disjunctiveFacetsRefinements:"dFR",disjunctiveFacets:"dF",distinct:"d",facetsExcludes:"fE",facetsRefinements:"fR",facets:"f",getRankingInfo:"gRI",hierarchicalFacetsRefinements:"hFR",hierarchicalFacets:"hF",highlightPostTag:"hPoT",highlightPreTag:"hPrT",hitsPerPage:"hPP",ignorePlurals:"iP",index:"idx",insideBoundingBox:"iBB",insidePolygon:"iPg",length:"l",maxValuesPerFacet:"mVPF",minimumAroundRadius:"mAR",minProximity:"mP",minWordSizefor1Typo:"mWS1T",minWordSizefor2Typos:"mWS2T",numericFilters:"nF",numericRefinements:"nR",offset:"o",optionalWords:"oW",page:"p",queryType:"qT",query:"q",removeWordsIfNoResults:"rWINR",replaceSynonymsInHighlight:"rSIH",restrictSearchableAttributes:"rSA",synonyms:"s",tagFilters:"tF",tagRefinements:"tR",typoTolerance:"tT",optionalTagFilters:"oTF",optionalFacetFilters:"oFF",snippetEllipsisText:"sET",disableExactOnAttributes:"dEOA",enableExactOnSingleWordQuery:"eEOSWQ"},lh=fh(hh),ph={ENCODED_PARAMETERS:un(lh),decode:function(e){return lh[e]},encode:function(e){return hh[e]}},dh=n(function(e,t){var n=Object.prototype.hasOwnProperty,r=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}();t.arrayToObject=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)void 0!==e[r]&&(n[r]=e[r]);return n},t.merge=function(e,r,i){if(!r)return e;if("object"!=typeof r){if(Array.isArray(e))e.push(r);else{if("object"!=typeof e)return[e,r];(i.plainObjects||i.allowPrototypes||!n.call(Object.prototype,r))&&(e[r]=!0)}return e}if("object"!=typeof e)return[e].concat(r);var a=e;return Array.isArray(e)&&!Array.isArray(r)&&(a=t.arrayToObject(e,i)),Array.isArray(e)&&Array.isArray(r)?(r.forEach(function(r,a){n.call(e,a)?e[a]&&"object"==typeof e[a]?e[a]=t.merge(e[a],r,i):e.push(r):e[a]=r}),e):Object.keys(r).reduce(function(e,a){var o=r[a];return n.call(e,a)?e[a]=t.merge(e[a],o,i):e[a]=o,e},a)},t.assign=function(e,t){return Object.keys(t).reduce(function(e,n){return e[n]=t[n],e},e)},t.decode=function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},t.encode=function(e){if(0===e.length)return e;for(var t="string"==typeof e?e:String(e),n="",i=0;i<t.length;++i){var a=t.charCodeAt(i);45===a||46===a||95===a||126===a||a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122?n+=t.charAt(i):a<128?n+=r[a]:a<2048?n+=r[192|a>>6]+r[128|63&a]:a<55296||a>=57344?n+=r[224|a>>12]+r[128|a>>6&63]+r[128|63&a]:(i+=1,a=65536+((1023&a)<<10|1023&t.charCodeAt(i)),n+=r[240|a>>18]+r[128|a>>12&63]+r[128|a>>6&63]+r[128|63&a])}return n},t.compact=function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var i=t[r],a=i.obj[i.prop],o=Object.keys(a),s=0;s<o.length;++s){var u=o[s],c=a[u];"object"==typeof c&&null!==c&&-1===n.indexOf(c)&&(t.push({obj:a,prop:u}),n.push(c))}return function(e){for(var t;e.length;){var n=e.pop();if(t=n.obj[n.prop],Array.isArray(t)){for(var r=[],i=0;i<t.length;++i)void 0!==t[i]&&r.push(t[i]);n.obj[n.prop]=r}}return t}(t)},t.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},t.isBuffer=function(e){return null!==e&&void 0!==e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}}),gh=(dh.arrayToObject,dh.merge,dh.assign,dh.decode,dh.encode,dh.compact,dh.isRegExp,dh.isBuffer,String.prototype.replace),mh=/%20/g,vh={default:"RFC3986",formatters:{RFC1738:function(e){return gh.call(e,mh,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"},yh={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},bh=Date.prototype.toISOString,Rh={delimiter:"&",encode:!0,encoder:dh.encode,encodeValuesOnly:!1,serializeDate:function(e){return bh.call(e)},skipNulls:!1,strictNullHandling:!1},wh=Object.prototype.hasOwnProperty,_h={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:dh.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},Fh={formats:vh,parse:function(e,t){var n=t?dh.assign({},t):{};if(null!==n.decoder&&void 0!==n.decoder&&"function"!=typeof n.decoder)throw new TypeError("Decoder has to be a function.");if(n.ignoreQueryPrefix=!0===n.ignoreQueryPrefix,n.delimiter="string"==typeof n.delimiter||dh.isRegExp(n.delimiter)?n.delimiter:_h.delimiter,n.depth="number"==typeof n.depth?n.depth:_h.depth,n.arrayLimit="number"==typeof n.arrayLimit?n.arrayLimit:_h.arrayLimit,n.parseArrays=!1!==n.parseArrays,n.decoder="function"==typeof n.decoder?n.decoder:_h.decoder,n.allowDots="boolean"==typeof n.allowDots?n.allowDots:_h.allowDots,n.plainObjects="boolean"==typeof n.plainObjects?n.plainObjects:_h.plainObjects,n.allowPrototypes="boolean"==typeof n.allowPrototypes?n.allowPrototypes:_h.allowPrototypes,n.parameterLimit="number"==typeof n.parameterLimit?n.parameterLimit:_h.parameterLimit,n.strictNullHandling="boolean"==typeof n.strictNullHandling?n.strictNullHandling:_h.strictNullHandling,""===e||null===e||void 0===e)return n.plainObjects?Object.create(null):{};for(var r="string"==typeof e?function(e,t){for(var n={},r=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,i=t.parameterLimit===1/0?void 0:t.parameterLimit,a=r.split(t.delimiter,i),o=0;o<a.length;++o){var s,u,c=a[o],f=c.indexOf("]="),h=-1===f?c.indexOf("="):f+1;-1===h?(s=t.decoder(c,_h.decoder),u=t.strictNullHandling?null:""):(s=t.decoder(c.slice(0,h),_h.decoder),u=t.decoder(c.slice(h+1),_h.decoder)),wh.call(n,s)?n[s]=[].concat(n[s]).concat(u):n[s]=u}return n}(e,n):e,i=n.plainObjects?Object.create(null):{},a=Object.keys(r),o=0;o<a.length;++o){var s=a[o],u=function(e,t,n){if(e){var r=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,i=/(\[[^[\]]*])/g,a=/(\[[^[\]]*])/.exec(r),o=a?r.slice(0,a.index):r,s=[];if(o){if(!n.plainObjects&&wh.call(Object.prototype,o)&&!n.allowPrototypes)return;s.push(o)}for(var u=0;null!==(a=i.exec(r))&&u<n.depth;){if(u+=1,!n.plainObjects&&wh.call(Object.prototype,a[1].slice(1,-1))&&!n.allowPrototypes)return;s.push(a[1])}return a&&s.push("["+r.slice(a.index)+"]"),function(e,t,n){for(var r=t,i=e.length-1;i>=0;--i){var a,o=e[i];if("[]"===o)a=(a=[]).concat(r);else{a=n.plainObjects?Object.create(null):{};var s="["===o.charAt(0)&&"]"===o.charAt(o.length-1)?o.slice(1,-1):o,u=parseInt(s,10);!isNaN(u)&&o!==s&&String(u)===s&&u>=0&&n.parseArrays&&u<=n.arrayLimit?(a=[])[u]=r:a[s]=r}r=a}return r}(s,t,n)}}(s,r[s],n);i=dh.merge(i,u,n)}return dh.compact(i)},stringify:function(e,t){var n=e,r=t?dh.assign({},t):{};if(null!==r.encoder&&void 0!==r.encoder&&"function"!=typeof r.encoder)throw new TypeError("Encoder has to be a function.");var i=void 0===r.delimiter?Rh.delimiter:r.delimiter,a="boolean"==typeof r.strictNullHandling?r.strictNullHandling:Rh.strictNullHandling,o="boolean"==typeof r.skipNulls?r.skipNulls:Rh.skipNulls,s="boolean"==typeof r.encode?r.encode:Rh.encode,u="function"==typeof r.encoder?r.encoder:Rh.encoder,c="function"==typeof r.sort?r.sort:null,f=void 0!==r.allowDots&&r.allowDots,h="function"==typeof r.serializeDate?r.serializeDate:Rh.serializeDate,l="boolean"==typeof r.encodeValuesOnly?r.encodeValuesOnly:Rh.encodeValuesOnly;if(void 0===r.format)r.format=vh.default;else if(!Object.prototype.hasOwnProperty.call(vh.formatters,r.format))throw new TypeError("Unknown format option provided.");var p,d,g=vh.formatters[r.format];"function"==typeof r.filter?n=(d=r.filter)("",n):Array.isArray(r.filter)&&(p=d=r.filter);var m=[];if("object"!=typeof n||null===n)return"";var v;v=r.arrayFormat in yh?r.arrayFormat:"indices"in r?r.indices?"indices":"repeat":"indices";var y=yh[v];p||(p=Object.keys(n)),c&&p.sort(c);for(var b=0;b<p.length;++b){var R=p[b];o&&null===n[R]||(m=m.concat(function e(t,n,r,i,a,o,s,u,c,f,h,l){var p=t;if("function"==typeof s)p=s(n,p);else if(p instanceof Date)p=f(p);else if(null===p){if(i)return o&&!l?o(n,Rh.encoder):n;p=""}if("string"==typeof p||"number"==typeof p||"boolean"==typeof p||dh.isBuffer(p))return o?[h(l?n:o(n,Rh.encoder))+"="+h(o(p,Rh.encoder))]:[h(n)+"="+h(String(p))];var d=[];if(void 0===p)return d;var g;if(Array.isArray(s))g=s;else{var m=Object.keys(p);g=u?m.sort(u):m}for(var v=0;v<g.length;++v){var y=g[v];a&&null===p[y]||(d=Array.isArray(p)?d.concat(e(p[y],r(n,y),r,i,a,o,s,u,c,f,h,l)):d.concat(e(p[y],n+(c?"."+y:"["+y+"]"),r,i,a,o,s,u,c,f,h,l)))}return d}(n[R],R,y,a,o,s?u:null,d,c,f,h,g,l)))}var w=m.join(i),_=!0===r.addQueryPrefix?"?":"";return w.length>0?_+w:""}},xh=Er(function(e,t,n){var r=1;if(n.length){var i=uf(n,rf(xh));r|=32}return Mf(e,r,t,n,i)});xh.placeholder={};var Ph=xh,jh=function(e,t){return qf(e,t,function(t,n){return ks(e,n)})},Sh=Ka(function(e,t){return null==e?{}:jh(e,t)}),Eh=function(e,t){var n={};return t=Js(t,3),Es(e,function(e,r,i){Lr(n,t(e,r,i),e)}),n},Ah=function(e,t){var n={};return t=Js(t,3),Es(e,function(e,r,i){Lr(n,r,t(e,r,i))}),n},Oh=dh.encode,Th=["dFR","fR","nR","hFR","tR"],Nh=ph.ENCODED_PARAMETERS,Ih={getStateFromQueryString:function(e,t){var n=t&&t.prefix||"",r=t&&t.mapping||{},i=fh(r),a=Fh.parse(e),o=new RegExp("^"+n),s=Eh(a,function(e,t){var r=n&&o.test(t)?t.replace(o,""):t;return ph.decode(i[r]||r)||r}),u=oc._parseNumbers(s);return Sh(u,oc.PARAMETERS)},getUnrecognizedParametersInQueryString:function(e,t){var n=t&&t.prefix,r=t&&t.mapping||{},i=fh(r),a={},o=Fh.parse(e);if(n){var s=new RegExp("^"+n);Ns(o,function(e,t){s.test(t)||(a[t]=e)})}else Ns(o,function(e,t){ph.decode(i[t]||t)||(a[t]=e)});return a},getQueryStringFromState:function(e,t){var n=t&&t.moreAttributes,r=t&&t.prefix||"",i=t&&t.mapping||{},a=t&&t.safe||!1,o=fh(i),s=a?e:xe(e),u=Eh(s,function(e,t){var n=ph.encode(t);return r+(i[n]||n)}),c=""===r?null:new RegExp("^"+r),f=Ph(function(e,t,n,r){if(null!==e&&(n=n.replace(e,""),r=r.replace(e,"")),n=t[n]||n,r=t[r]||r,-1!==Nh.indexOf(n)||-1!==Nh.indexOf(r)){if("q"===n)return-1;if("q"===r)return 1;var i=-1!==Th.indexOf(n),a=-1!==Th.indexOf(r);if(i&&!a)return 1;if(a&&!i)return-1}return n.localeCompare(r)},null,c,o);if(!hs(n)){var h=Fh.stringify(u,{encode:a,sort:f}),l=Fh.stringify(n,{encode:a});return h?h+"&"+l:l}return Fh.stringify(u,{encode:a,sort:f})}},Hh="2.22.0";ih.inherits(Pe,ah.EventEmitter),Pe.prototype.search=function(){return this._search(),this},Pe.prototype.getQuery=function(){var e=this.state;return uh._getHitsSearchParams(e)},Pe.prototype.searchOnce=function(e,t){var n=e?this.state.setQueryParameters(e):this.state,r=uh._getQueries(n.index,n),i=this;return this._currentNbQueries++,this.emit("searchOnce",n),t?this.client.search(r,function(e,r){i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),e?t(e,null,n):t(e,new $f(n,r.results),n)}):this.client.search(r).then(function(e){return i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),{content:new $f(n,e.results),state:n,_originalResponse:e}},function(e){throw i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),e})},Pe.prototype.searchForFacetValues=function(e,t,n){var r=this.state,i=this.client.initIndex(this.state.index),a=r.isDisjunctiveFacet(e),o=uh.getSearchForFacetQuery(e,t,n,this.state);this._currentNbQueries++;var s=this;return this.emit("searchForFacetValues",r,e,t),i.searchForFacetValues(o).then(function(t){return s._currentNbQueries--,0===s._currentNbQueries&&s.emit("searchQueueEmpty"),t.facetHits=Ns(t.facetHits,function(t){t.isRefined=a?r.isDisjunctiveFacetRefined(e,t.value):r.isFacetRefined(e,t.value)}),t},function(e){throw s._currentNbQueries--,0===s._currentNbQueries&&s.emit("searchQueueEmpty"),e})},Pe.prototype.setQuery=function(e){return this.state=this.state.setPage(0).setQuery(e),this._change(),this},Pe.prototype.clearRefinements=function(e){return this.state=this.state.setPage(0).clearRefinements(e),this._change(),this},Pe.prototype.clearTags=function(){return this.state=this.state.setPage(0).clearTags(),this._change(),this},Pe.prototype.addDisjunctiveFacetRefinement=function(e,t){return this.state=this.state.setPage(0).addDisjunctiveFacetRefinement(e,t),this._change(),this},Pe.prototype.addDisjunctiveRefine=function(){return this.addDisjunctiveFacetRefinement.apply(this,arguments)},Pe.prototype.addHierarchicalFacetRefinement=function(e,t){return this.state=this.state.setPage(0).addHierarchicalFacetRefinement(e,t),this._change(),this},Pe.prototype.addNumericRefinement=function(e,t,n){return this.state=this.state.setPage(0).addNumericRefinement(e,t,n),this._change(),this},Pe.prototype.addFacetRefinement=function(e,t){return this.state=this.state.setPage(0).addFacetRefinement(e,t),this._change(),this},Pe.prototype.addRefine=function(){return this.addFacetRefinement.apply(this,arguments)},Pe.prototype.addFacetExclusion=function(e,t){return this.state=this.state.setPage(0).addExcludeRefinement(e,t),this._change(),this},Pe.prototype.addExclude=function(){return this.addFacetExclusion.apply(this,arguments)},Pe.prototype.addTag=function(e){return this.state=this.state.setPage(0).addTagRefinement(e),this._change(),this},Pe.prototype.removeNumericRefinement=function(e,t,n){return this.state=this.state.setPage(0).removeNumericRefinement(e,t,n),this._change(),this},Pe.prototype.removeDisjunctiveFacetRefinement=function(e,t){return this.state=this.state.setPage(0).removeDisjunctiveFacetRefinement(e,t),this._change(),this},Pe.prototype.removeDisjunctiveRefine=function(){return this.removeDisjunctiveFacetRefinement.apply(this,arguments)},Pe.prototype.removeHierarchicalFacetRefinement=function(e){return this.state=this.state.setPage(0).removeHierarchicalFacetRefinement(e),this._change(),this},Pe.prototype.removeFacetRefinement=function(e,t){return this.state=this.state.setPage(0).removeFacetRefinement(e,t),this._change(),this},Pe.prototype.removeRefine=function(){return this.removeFacetRefinement.apply(this,arguments)},Pe.prototype.removeFacetExclusion=function(e,t){return this.state=this.state.setPage(0).removeExcludeRefinement(e,t),this._change(),this},Pe.prototype.removeExclude=function(){return this.removeFacetExclusion.apply(this,arguments)},Pe.prototype.removeTag=function(e){return this.state=this.state.setPage(0).removeTagRefinement(e),this._change(),this},Pe.prototype.toggleFacetExclusion=function(e,t){return this.state=this.state.setPage(0).toggleExcludeFacetRefinement(e,t),this._change(),this},Pe.prototype.toggleExclude=function(){return this.toggleFacetExclusion.apply(this,arguments)},Pe.prototype.toggleRefinement=function(e,t){return this.toggleFacetRefinement(e,t)},Pe.prototype.toggleFacetRefinement=function(e,t){return this.state=this.state.setPage(0).toggleFacetRefinement(e,t),this._change(),this},Pe.prototype.toggleRefine=function(){return this.toggleFacetRefinement.apply(this,arguments)},Pe.prototype.toggleTag=function(e){return this.state=this.state.setPage(0).toggleTagRefinement(e),this._change(),this},Pe.prototype.nextPage=function(){return this.setPage(this.state.page+1)},Pe.prototype.previousPage=function(){return this.setPage(this.state.page-1)},Pe.prototype.setCurrentPage=je,Pe.prototype.setPage=je,Pe.prototype.setIndex=function(e){return this.state=this.state.setPage(0).setIndex(e),this._change(),this},Pe.prototype.setQueryParameter=function(e,t){var n=this.state.setPage(0).setQueryParameter(e,t);return this.state===n?this:(this.state=n,this._change(),this)},Pe.prototype.setState=function(e){return this.state=oc.make(e),this._change(),this},Pe.prototype.getState=function(e){return void 0===e?this.state:this.state.filter(e)},Pe.prototype.getStateAsQueryString=function(e){var t=e&&e.filters||["query","attribute:*"],n=this.getState(t);return Ih.getQueryStringFromState(n,e)},Pe.getConfigurationFromQueryString=Ih.getStateFromQueryString,Pe.getForeignConfigurationInQueryString=Ih.getUnrecognizedParametersInQueryString,Pe.prototype.setStateFromQueryString=function(e,t){var n=t&&t.triggerChange||!1,r=Ih.getStateFromQueryString(e,t),i=this.state.setQueryParameters(r);n?this.setState(i):this.overrideStateWithoutTriggeringChangeEvent(i)},Pe.prototype.overrideStateWithoutTriggeringChangeEvent=function(e){return this.state=new oc(e),this},Pe.prototype.isRefined=function(e,t){if(this.state.isConjunctiveFacet(e))return this.state.isFacetRefined(e,t);if(this.state.isDisjunctiveFacet(e))return this.state.isDisjunctiveFacetRefined(e,t);throw new Error(e+" is not properly defined in this helper configuration(use the facets or disjunctiveFacets keys to configure it)")},Pe.prototype.hasRefinements=function(e){return!hs(this.state.getNumericRefinements(e))||(this.state.isConjunctiveFacet(e)?this.state.isFacetRefined(e):this.state.isDisjunctiveFacet(e)?this.state.isDisjunctiveFacetRefined(e):!!this.state.isHierarchicalFacet(e)&&this.state.isHierarchicalFacetRefined(e))},Pe.prototype.isExcluded=function(e,t){return this.state.isExcludeRefined(e,t)},Pe.prototype.isDisjunctiveRefined=function(e,t){return this.state.isDisjunctiveFacetRefined(e,t)},Pe.prototype.hasTag=function(e){return this.state.isTagRefined(e)},Pe.prototype.isTagRefined=function(){return this.hasTagRefinements.apply(this,arguments)},Pe.prototype.getIndex=function(){return this.state.index},Pe.prototype.getCurrentPage=Se,Pe.prototype.getPage=Se,Pe.prototype.getTags=function(){return this.state.tagRefinements},Pe.prototype.getQueryParameter=function(e){return this.state.getQueryParameter(e)},Pe.prototype.getRefinements=function(e){var t=[];if(this.state.isConjunctiveFacet(e)){var n=this.state.getConjunctiveRefinements(e);Ns(n,function(e){t.push({value:e,type:"conjunctive"})});var r=this.state.getExcludeRefinements(e);Ns(r,function(e){t.push({value:e,type:"exclude"})})}else if(this.state.isDisjunctiveFacet(e)){var i=this.state.getDisjunctiveRefinements(e);Ns(i,function(e){t.push({value:e,type:"disjunctive"})})}var a=this.state.getNumericRefinements(e);return Ns(a,function(e,n){t.push({value:e,operator:n,type:"numeric"})}),t},Pe.prototype.getNumericRefinement=function(e,t){return this.state.getNumericRefinement(e,t)},Pe.prototype.getHierarchicalFacetBreadcrumb=function(e){return this.state.getHierarchicalFacetBreadcrumb(e)},Pe.prototype._search=function(){var e=this.state,t=uh._getQueries(e.index,e),n=[{state:e,queriesCount:t.length,helper:this}];this.emit("search",e,this.lastResults);var r=Ks(this.derivedHelpers,function(t){var r=t.getModifiedState(e),i=uh._getQueries(r.index,r);return n.push({state:r,queriesCount:i.length,helper:t}),t.emit("search",r,t.lastResults),i}),i=t.concat(Za(r)),a=this._queryId++;this._currentNbQueries++,this.client.search(i,this._dispatchAlgoliaResponse.bind(this,n,a))},Pe.prototype._dispatchAlgoliaResponse=function(e,t,n,r){if(!(t<this._lastQueryIdReceived))if(this._currentNbQueries-=t-this._lastQueryIdReceived,this._lastQueryIdReceived=t,n)this.emit("error",n),0===this._currentNbQueries&&this.emit("searchQueueEmpty");else{0===this._currentNbQueries&&this.emit("searchQueueEmpty");var i=r.results;Ns(e,function(e){var t=e.state,n=e.queriesCount,r=e.helper,a=i.splice(0,n),o=r.lastResults=new $f(t,a);r.emit("result",o,t)})}},Pe.prototype.containsRefinement=function(e,t,n,r){return e||0!==t.length||0!==n.length||0!==r.length},Pe.prototype._hasDisjunctiveRefinements=function(e){return this.state.disjunctiveRefinements[e]&&this.state.disjunctiveRefinements[e].length>0},Pe.prototype._change=function(){this.emit("change",this.state,this.lastResults)},Pe.prototype.clearCache=function(){return this.client.clearCache(),this},Pe.prototype.setClient=function(e){return this.client===e?this:(e.addAlgoliaAgent&&!Ee(e)&&e.addAlgoliaAgent("JS Helper "+Hh),this.client=e,this)},Pe.prototype.getClient=function(){return this.client},Pe.prototype.derive=function(e){var t=new oh(this,e);return this.derivedHelpers.push(t),t},Pe.prototype.detachDerivedHelper=function(e){var t=this.derivedHelpers.indexOf(e);if(-1===t)throw new Error("Derived helper already detached");this.derivedHelpers.splice(t,1)},Pe.prototype.hasPendingRequests=function(){return this._currentNbQueries>0};var Bh=Pe;Ae.version=Hh,Ae.AlgoliaSearchHelper=Bh,Ae.SearchParameters=oc,Ae.SearchResults=$f,Ae.url=Ih;var Mh=Ae.SearchParameters,Ch=function(e){return e.attributes[0]},Dh="hierarchicalMenu",Lh=["name:asc"],Uh=_({displayName:"AlgoliaHierarchicalMenu",propTypes:{attributes:function(e,t,n){if(!Array.isArray(e[t])||e[t].some(function(e){return"string"!=typeof e})||e[t].length<1)return new Error("Invalid prop "+t+" supplied to "+n+". Expected an Array of Strings")},separator:ss.string,rootPath:ss.string,showParentLevel:ss.bool,defaultRefinement:ss.string,showMore:ss.bool,limitMin:ss.number,limitMax:ss.number,transformItems:ss.func},defaultProps:{showMore:!1,limitMin:10,limitMax:20,separator:" > ",rootPath:null,showParentLevel:!0},getProvidedProps:function(e,t,n){var r=e.showMore,i=e.limitMin,a=e.limitMax,o=Ch(e),s=x(n,this.context);if(!(Boolean(s)&&Boolean(s.getFacetByName(o))))return{items:[],currentRefinement:Oe(e,t,this.context),canRefine:!1};var u=r?a:i,c=s.getFacetValues(o,{sortBy:Lh}),f=c.data?Te(c.data,e,t,this.context):[];return{items:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return t.slice(0,n).map(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Array.isArray(t.items)?gs({},t,{items:e(t.items,n)}):t})}(e.transformItems?e.transformItems(f):f,u),currentRefinement:Oe(e,t,this.context),canRefine:f.length>0}},refine:function(e,t,n){return Ne(e,t,n,this.context)},cleanUp:function(e,t){return function(e,t,n){return A(t,n,Dh+"."+Ch(e))}(e,t,this.context)},getSearchParameters:function(e,t,n){var r=t.attributes,i=t.separator,a=t.rootPath,o=t.showParentLevel,s=t.showMore,u=t.limitMin,c=t.limitMax,f=Ch(t),h=s?c:u;e=e.addHierarchicalFacet({name:f,attributes:r,separator:i,rootPath:a,showParentLevel:o}).setQueryParameters({maxValuesPerFacet:Math.max(e.maxValuesPerFacet||0,h)});var l=Oe(t,n,this.context);return null!==l&&(e=e.toggleHierarchicalFacetRefinement(f,l)),e},getMetadata:function(e,t){var n=this,r=e.attributes[0],i=Ch(e),a=Oe(e,t,this.context);return{id:i,index:F(this.context),items:a?[{label:r+": "+a,attributeName:r,value:function(t){return Ne(e,t,"",n.context)},currentRefinement:a}]:[]}}}),Qh={highlightPreTag:"<ais-highlight-0000000000>",highlightPostTag:"</ais-highlight-0000000000>"},kh=_({displayName:"AlgoliaHighlighter",propTypes:{},getProvidedProps:function(){return{highlight:function(e){var t=e.attributeName,n=e.hit,r=e.highlightProperty;return function(e){var t=e.preTag,n=void 0===t?"<em>":t,r=e.postTag,i=void 0===r?"</em>":r,a=e.highlightProperty,o=e.attributeName,s=e.hit;if(!s)throw new Error("`hit`, the matching record, must be provided");var u=Rs(s[a],o,{});return Array.isArray(u)?u.map(function(e){return Ie({preTag:n,postTag:i,highlightedValue:e.value})}):Ie({preTag:n,postTag:i,highlightedValue:u.value})}({attributeName:t,hit:n,preTag:Qh.highlightPreTag,postTag:Qh.highlightPostTag,highlightProperty:r})}}}}),zh=_({displayName:"AlgoliaHits",getProvidedProps:function(e,t,n){var r=x(n,this.context);return{hits:r?r.hits:[]}},getSearchParameters:function(e){return e}}),Vh=function(){return"query"},qh=_({displayName:"AlgoliaAutoComplete",getProvidedProps:function(e,t,n){return{hits:function(e){return e.results?e.results.hits&&Array.isArray(e.results.hits)?e.results.hits:Object.keys(e.results).reduce(function(t,n){return[].concat(bs(t),[{index:n,hits:e.results[n].hits}])},[]):[]}(n),currentRefinement:He(e,t,this.context)}},refine:function(e,t,n){return function(e,t,n,r){var i=Vh();return j(t,ds({},i,n),r,!0)}(0,t,n,this.context)},cleanUp:function(e,t){return function(e,t,n){return A(t,n,Vh())}(0,t,this.context)},getSearchParameters:function(e,t,n){return e.setQuery(He(t,n,this.context))}}),Yh=_({displayName:"AlgoliaHitsPerPage",propTypes:{defaultRefinement:ss.number.isRequired,items:ss.arrayOf(ss.shape({label:ss.string,value:ss.number.isRequired})).isRequired,transformItems:ss.func},getProvidedProps:function(e,t){var n=Be(e,t,this.context),r=e.items.map(function(e){return e.value===n?gs({},e,{isRefined:!0}):gs({},e,{isRefined:!1})});return{items:e.transformItems?e.transformItems(r):r,currentRefinement:n}},refine:function(e,t,n){return j(t,ds({},"hitsPerPage",n),this.context,!0)},cleanUp:function(e,t){return A(t,this.context,"hitsPerPage")},getSearchParameters:function(e,t,n){return e.setHitsPerPage(Be(t,n,this.context))},getMetadata:function(){return{id:"hitsPerPage"}}}),Wh=_({displayName:"AlgoliaInfiniteHits",getProvidedProps:function(e,t,n){var r=x(n,this.context);if(!r)return this._allResults=[],{hits:this._allResults,hasMore:!1};var i=r.hits,a=r.page,o=r.nbPages;0===a?this._allResults=i:a>this.previousPage?this._allResults=[].concat(bs(this._allResults),bs(i)):a<this.previousPage&&(this._allResults=i);var s=a<o-1;return this.previousPage=a,{hits:this._allResults,hasMore:s}},getSearchParameters:function(e,t,n){return e.setQueryParameters({page:Me(t,n,this.context)-1})},refine:function(e,t){var n=Me(e,t,this.context)+1;return j(t,ds({},"page",n),this.context,!1)}}),$h="menu",Jh=["count:desc","name:asc"],Gh=_({displayName:"AlgoliaMenu",propTypes:{attributeName:ss.string.isRequired,showMore:ss.bool,limitMin:ss.number,limitMax:ss.number,defaultRefinement:ss.string,transformItems:ss.func,withSearchBox:ss.bool,searchForFacetValues:ss.bool},defaultProps:{showMore:!1,limitMin:10,limitMax:20},getProvidedProps:function(e,t,n,r,i){var a=this,o=e.attributeName,s=e.showMore,u=e.limitMin,c=e.limitMax,f=s?c:u,h=x(n,this.context),l=Boolean(h)&&Boolean(h.getFacetByName(o)),p=Boolean(i&&i[o]&&""!==i.query),d=e.withSearchBox||e.searchForFacetValues;if(e.withSearchBox&&this.context.multiIndexContext)throw new Error("react-instantsearch: searching in *List is not available when used inside a multi index context");if(!l)return{items:[],currentRefinement:De(e,t,this.context),isFromSearch:p,withSearchBox:d,canRefine:l};var g=p?i[o].map(function(n){return{label:n.value,value:Le(n.value,e,t,a.context),_highlightResult:{label:{value:n.highlighted}},count:n.count,isRefined:n.isRefined}}):h.getFacetValues(o,{sortBy:Jh}).map(function(n){return{label:n.name,value:Le(n.name,e,t,a.context),count:n.count,isRefined:n.isRefined}}),m=d&&!p?yc(g,["isRefined","count","label"],["desc","desc","asc"]):g;return{items:(e.transformItems?e.transformItems(m):m).slice(0,f),currentRefinement:De(e,t,this.context),isFromSearch:p,withSearchBox:d,canRefine:g.length>0}},refine:function(e,t,n){return Ue(e,t,n,this.context)},searchForFacetValues:function(e,t,n){return{facetName:e.attributeName,query:n}},cleanUp:function(e,t){return function(e,t,n){return A(t,n,$h+"."+Ce(e))}(e,t,this.context)},getSearchParameters:function(e,t,n){var r=t.attributeName,i=t.showMore,a=t.limitMin,o=t.limitMax,s=i?o:a;e=(e=e.setQueryParameters({maxValuesPerFacet:Math.max(e.maxValuesPerFacet||0,s)})).addDisjunctiveFacet(r);var u=De(t,n,this.context);return null!==u&&(e=e.addDisjunctiveFacetRefinement(r,u)),e},getMetadata:function(e,t){var n=this,r=Ce(e),i=De(e,t,this.context);return{id:r,index:F(this.context),items:null===i?[]:[{label:e.attributeName+": "+i,attributeName:e.attributeName,value:function(t){return Ue(e,t,"",n.context)},currentRefinement:i}]}}}),Zh="multiRange",Kh=_({displayName:"AlgoliaMultiRange",propTypes:{id:ss.string,attributeName:ss.string.isRequired,items:ss.arrayOf(ss.shape({label:ss.node,start:ss.number,end:ss.number})).isRequired,transformItems:ss.func},getProvidedProps:function(e,t,n){var r=e.attributeName,i=ze(e,t,this.context),a=x(n,this.context),o=e.items.map(function(t){var n=Qe(t);return{label:t.label,value:n,isRefined:n===i,noRefinement:!!a&&function(e,t,n){var r=t.getFacetByName(e)?t.getFacetStats(e):null,i=n.split(":"),a=0===Number(i[0])||""===n?Number.NEGATIVE_INFINITY:Number(i[0]),o=0===Number(i[1])||""===n?Number.POSITIVE_INFINITY:Number(i[1]);return!(Boolean(r)&&(function(e,t,n){return e.min>t&&e.min<n||e.max>t&&e.max<n}(r,a,o)||function(e,t,n){return t>e.min&&t<e.max||n>e.min&&n<e.max}(r,a,o)))}(ke(e),a,n)}}),s=a&&a.getFacetByName(r)?a.getFacetStats(r):null,u=Fu(o,function(e){return!0===e.isRefined});return o.some(function(e){return""===e.value})||o.push({value:"",isRefined:hs(u),noRefinement:!s,label:"All"}),{items:e.transformItems?e.transformItems(o):o,currentRefinement:i,canRefine:o.length>0&&o.some(function(e){return!1===e.noRefinement})}},refine:function(e,t,n){return Ve(e,t,n,this.context)},cleanUp:function(e,t){return function(e,t,n){return A(t,n,Zh+"."+ke(e))}(e,t,this.context)},getSearchParameters:function(e,t,n){var r=t.attributeName,i=function(e){if(0===e.length)return{start:null,end:null};var t=e.split(":"),n=ys(t,2),r=n[0],i=n[1];return{start:r.length>0?parseInt(r,10):null,end:i.length>0?parseInt(i,10):null}}(ze(t,n,this.context)),a=i.start,o=i.end;return e=e.addDisjunctiveFacet(r),a&&(e=e.addNumericRefinement(r,">=",a)),o&&(e=e.addNumericRefinement(r,"<=",o)),e},getMetadata:function(e,t){var n=this,r=ke(e),i=ze(e,t,this.context),a=[],o=F(this.context);if(""!==i){var s=Fu(e.items,function(e){return Qe(e)===i}).label;a.push({label:e.attributeName+": "+s,attributeName:e.attributeName,currentRefinement:s,value:function(t){return Ve(e,t,"",n.context)}})}return{id:r,index:o,items:a}}}),Xh=_({displayName:"AlgoliaPagination",getProvidedProps:function(e,t,n){var r=x(n,this.context);if(!r)return null;var i=r.nbPages;return{nbPages:i,currentRefinement:qe(e,t,this.context),canRefine:i>1}},refine:function(e,t,n){return function(e,t,n,r){return j(t,ds({},"page",n),r,!1)}(0,t,n,this.context)},cleanUp:function(e,t){return A(t,this.context,"page")},getSearchParameters:function(e,t,n){return e.setPage(qe(t,n,this.context)-1)},getMetadata:function(){return{id:"page"}}}),el=_({displayName:"AlgoliaPoweredBy",propTypes:{},getProvidedProps:function(e){return{url:"https://www.algolia.com/?utm_source=react-instantsearch&utm_medium=website&utm_content="+(e.canRender?location.hostname:"")+"&utm_campaign=poweredby"}}}),tl=lt.isFinite,nl=function(e){return"number"==typeof e&&tl(e)},rl="range",il=_({displayName:"AlgoliaRange",propTypes:{id:ss.string,attributeName:ss.string.isRequired,defaultRefinement:ss.shape({min:ss.number.isRequired,max:ss.number.isRequired}),min:ss.number,max:ss.number,precision:ss.number},defaultProps:{precision:2},getProvidedProps:function(e,t,n){var r=e.attributeName,i=e.precision,a=e.min,o=e.max,s=x(n,this.context),u=s&&s.getFacetByName(r),c=u?s.getFacetStats(r)||{}:{},f=(u?s.getFacetValues(r):[]).map(function(e){return{value:e.name,count:e.count}}),h=function(e,t,n){var r=Math.pow(10,n),i=void 0;i=nl(e.min)?e.min:nl(t.min)?t.min:void 0;var a=void 0;return a=nl(e.max)?e.max:nl(t.max)?t.max:void 0,{min:void 0!==i?Math.floor(i*r)/r:i,max:void 0!==a?Math.ceil(a*r)/r:a}}({min:a,max:o},c,i),l=h.min,p=h.max;this._currentRange={min:l,max:p};var d=We(e,t,this._currentRange,this.context),g=d.min,m=d.max;return{min:l,max:p,canRefine:f.length>0,currentRefinement:{min:void 0===g?l:g,max:void 0===m?p:m},count:f,precision:i}},refine:function(e,t,n){return Je(e,t,n,this._currentRange,this.context)},cleanUp:function(e,t){return function(e,t,n){return A(t,n,rl+"."+Ye(e))}(e,t,this.context)},getSearchParameters:function(e,t,n){var r=t.attributeName,i=We(t,n,this._currentRange,this.context),a=i.min,o=i.max;return e=e.addDisjunctiveFacet(r),void 0!==a&&(e=e.addNumericRefinement(r,">=",a)),void 0!==o&&(e=e.addNumericRefinement(r,"<=",o)),e},getMetadata:function(e,t){var n=this,r=this._currentRange,i=r.min,a=r.max,o=We(e,t,this._currentRange,this.context),s=o.min,u=o.max,c=[],f=void 0!==s,h=void 0!==u;if(f&&s!==i||h&&u!==a){var l=[f?s+" <= ":"",e.attributeName,h?" <= "+u:""];c.push({label:l.join(""),attributeName:e.attributeName,value:function(t){return Je(e,t,{},n._currentRange,n.context)},currentRefinement:{min:s,max:u}})}return{id:Ye(e),index:F(this.context),items:c}}}),al="refinementList",ol=["isRefined","count:desc","name:asc"],sl=_({displayName:"AlgoliaRefinementList",propTypes:{id:ss.string,attributeName:ss.string.isRequired,operator:ss.oneOf(["and","or"]),showMore:ss.bool,limitMin:ss.number,limitMax:ss.number,defaultRefinement:ss.arrayOf(ss.oneOfType([ss.string,ss.number])),withSearchBox:ss.bool,searchForFacetValues:ss.bool,transformItems:ss.func},defaultProps:{operator:"or",showMore:!1,limitMin:10,limitMax:20},getProvidedProps:function(e,t,n,r,i){var a=this,o=e.attributeName,s=e.showMore,u=e.limitMin,c=e.limitMax,f=s?c:u,h=x(n,this.context),l=Boolean(h)&&Boolean(h.getFacetByName(o)),p=Boolean(i&&i[o]&&""!==i.query),d=e.withSearchBox||e.searchForFacetValues;if(e.withSearchBox&&this.context.multiIndexContext)throw new Error("react-instantsearch: searching in *List is not available when used inside a multi index context");if(!l)return{items:[],currentRefinement:Ze(e,t,this.context),canRefine:l,isFromSearch:p,withSearchBox:d};var g=p?i[o].map(function(n){return{label:n.value,value:Ke(n.value,e,t,a.context),_highlightResult:{label:{value:n.highlighted}},count:n.count,isRefined:n.isRefined}}):h.getFacetValues(o,{sortBy:ol}).map(function(n){return{label:n.name,value:Ke(n.name,e,t,a.context),count:n.count,isRefined:n.isRefined}});return{items:(e.transformItems?e.transformItems(g):g).slice(0,f),currentRefinement:Ze(e,t,this.context),isFromSearch:p,withSearchBox:d,canRefine:g.length>0}},refine:function(e,t,n){return Xe(e,t,n,this.context)},searchForFacetValues:function(e,t,n){return{facetName:e.attributeName,query:n}},cleanUp:function(e,t){return function(e,t,n){return A(t,n,al+"."+Ge(e))}(e,t,this.context)},getSearchParameters:function(e,t,n){var r=t.attributeName,i=t.operator,a=t.showMore,o=t.limitMin,s=t.limitMax,u=a?s:o,c="and"===i?"addFacet":"addDisjunctiveFacet",f=c+"Refinement";return e=e.setQueryParameters({maxValuesPerFacet:Math.max(e.maxValuesPerFacet||0,u)}),e=e[c](r),Ze(t,n,this.context).reduce(function(e,t){return e[f](r,t)},e)},getMetadata:function(e,t){var n=Ge(e),r=this.context;return{id:n,index:F(this.context),items:Ze(e,t,r).length>0?[{attributeName:e.attributeName,label:e.attributeName+": ",currentRefinement:Ze(e,t,r),value:function(t){return Xe(e,t,[],r)},items:Ze(e,t,r).map(function(n){return{label:""+n,value:function(i){var a=Ze(e,i,r).filter(function(e){return e!==n});return Xe(e,t,a,r)}}})}]:[]}}}),ul=_({displayName:"AlgoliaScrollTo",propTypes:{scrollOn:ss.string},defaultProps:{scrollOn:"page"},getProvidedProps:function(e,t){var n=e.scrollOn,r=E(e,t,this.context,n,null,function(e){return e});if(this._prevSearchState||(this._prevSearchState={}),P(this.context)){var i=F(this.context);t=t.indices?t.indices[i]:{}}var a=Xa(Xa(t,"configure"),n),o=R(this._prevSearchState,a);return this._prevSearchState=a,{value:r,hasNotChanged:o}}}),cl=function(e){return e.attributes[0]},fl="hierarchicalMenu",hl=_({displayName:"AlgoliaBreadcrumb",propTypes:{attributes:function(e,t,n){if(!Array.isArray(e[t])||e[t].some(function(e){return"string"!=typeof e})||e[t].length<1)return new Error("Invalid prop "+t+" supplied to "+n+". Expected an Array of Strings")},rootURL:ss.string,separator:ss.oneOfType([ss.string,ss.element]),transformItems:ss.func},defaultProps:{rootURL:null,separator:" > "},getProvidedProps:function(e,t,n){var r=cl(e),i=x(n,this.context);if(!(Boolean(i)&&Boolean(i.getFacetByName(r))))return{items:[],canRefine:!1};var a=i.getFacetValues(r),o=a.data?et(a.data):[],s=e.transformItems?e.transformItems(o):o;return{canRefine:s.length>0,items:s}},refine:function(e,t,n){return function(e,t,n,r){var i=cl(e);return j(t,ds({},i,n||""),r,!0,fl)}(e,t,n,this.context)}}),ll=_({displayName:"AlgoliaSearchBox",propTypes:{defaultRefinement:ss.string},getProvidedProps:function(e,t,n){return{currentRefinement:tt(e,t,this.context),isSearchStalled:n.isSearchStalled}},refine:function(e,t,n){return nt(0,t,n,this.context)},cleanUp:function(e,t){return function(e,t,n){return A(t,n,"query")}(0,t,this.context)},getSearchParameters:function(e,t,n){return e.setQuery(tt(t,n,this.context))},getMetadata:function(e,t){var n=this,r=tt(e,t,this.context);return{id:"query",index:F(this.context),items:null===r?[]:[{label:"query: "+r,value:function(e){return nt(0,e,"",n.context)},currentRefinement:r}]}}}),pl=_({displayName:"AlgoliaSortBy",propTypes:{defaultRefinement:ss.string,items:ss.arrayOf(ss.shape({label:ss.string,value:ss.string.isRequired})).isRequired,transformItems:ss.func},getProvidedProps:function(e,t){var n=rt(e,t,this.context),r=e.items.map(function(e){return e.value===n?gs({},e,{isRefined:!0}):gs({},e,{isRefined:!1})});return{items:e.transformItems?e.transformItems(r):r,currentRefinement:n}},refine:function(e,t,n){return j(t,ds({},"sortBy",n),this.context,!0)},cleanUp:function(e,t){return A(t,this.context,"sortBy")},getSearchParameters:function(e,t,n){var r=rt(t,n,this.context);return e.setIndex(r)},getMetadata:function(){return{id:"sortBy"}}}),dl=_({displayName:"AlgoliaStats",getProvidedProps:function(e,t,n){var r=x(n,this.context);return r?{nbHits:r.nbHits,processingTimeMS:r.processingTimeMS}:null}}),gl="toggle",ml=_({displayName:"AlgoliaToggle",propTypes:{label:ss.string,filter:ss.func,attributeName:ss.string,value:ss.any,defaultRefinement:ss.bool},getProvidedProps:function(e,t){return{currentRefinement:at(e,t,this.context)}},refine:function(e,t,n){return ot(e,t,n,this.context)},cleanUp:function(e,t){return function(e,t,n){return A(t,n,gl+"."+it(e))}(e,t,this.context)},getSearchParameters:function(e,t,n){var r=t.attributeName,i=t.value,a=t.filter;return at(t,n,this.context)&&(r&&(e=e.addFacet(r).addFacetRefinement(r,i)),a&&(e=a(e))),e},getMetadata:function(e,t){var n=this,r=it(e),i=at(e,t,this.context),a=[],o=F(this.context);return i&&a.push({label:e.label,currentRefinement:e.label,attributeName:e.attributeName,value:function(t){return ot(e,t,!1,n.context)}}),{id:r,index:o,items:a}}}),vl=_({displayName:"AlgoliaStateResults",getProvidedProps:function(e,t,n){return{searchState:t,searchResults:x(n,this.context),allSearchResults:n.results,searching:n.searching,error:n.error,searchingForFacetValues:n.searchingForFacetValues,props:e}}});e.connectConfigure=ws,e.connectCurrentRefinements=_s,e.connectHierarchicalMenu=Uh,e.connectHighlight=kh,e.connectHits=zh,e.connectAutoComplete=qh,e.connectHitsPerPage=Yh,e.connectInfiniteHits=Wh,e.connectMenu=Gh,e.connectMultiRange=Kh,e.connectPagination=Xh,e.connectPoweredBy=el,e.connectRange=il,e.connectRefinementList=sl,e.connectScrollTo=ul,e.connectBreadcrumb=hl,e.connectSearchBox=ll,e.connectSortBy=pl,e.connectStats=dl,e.connectToggle=ml,e.connectStateResults=vl,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=Connectors.min.js.map
